<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Toggling MC18 Navigation (and Status) Bar visible state  &middot; Pietro F. Maggi</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="On Zebra MC18 with Android, it&#39;s possible to toggle the NavBar visible status with a XML configuration file..." />

<meta name="keywords" content="Android, MC18, Zebra Technologies, ">


<meta property="og:title" content="Toggling MC18 Navigation (and Status) Bar visible state  &middot; Pietro F. Maggi ">
<meta property="og:site_name" content="Pietro F. Maggi"/>
<meta property="og:url" content="http://pietromaggi.com/2016/10/30/toggling-mc18-navigation-and-status-bar-visible-state/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content="On Zebra MC18 with Android, it&#39;s possible to toggle the NavBar visible status with a XML configuration file..."/>
<meta property="og:article:published_time" content="2016-10-30T11:00:00&#43;01:00" />
<meta property="og:article:modified_time" content="2016-10-30T11:00:00&#43;01:00" />

  
    
<meta property="og:article:tag" content="Android">
    
<meta property="og:article:tag" content="MC18">
    
<meta property="og:article:tag" content="Zebra Technologies">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@pfmaggi" />
<meta name="twitter:creator" content="@pfmaggi" />
<meta name="twitter:title" content="Toggling MC18 Navigation (and Status) Bar visible state" />
<meta name="twitter:description" content="On Zebra MC18 with Android, it&#39;s possible to toggle the NavBar visible status with a XML configuration file..." />
<meta name="twitter:url" content="http://pietromaggi.com/2016/10/30/toggling-mc18-navigation-and-status-bar-visible-state/" />
<meta name="twitter:domain" content="http://pietromaggi.com/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Toggling MC18 Navigation (and Status) Bar visible state",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2016-10-30",
    "description": "On Zebra MC18 with Android, it&#39;s possible to toggle the NavBar visible status with a XML configuration file...",
    "wordCount": 462
  }
</script>



<link rel="canonical" href="http://pietromaggi.com/2016/10/30/toggling-mc18-navigation-and-status-bar-visible-state/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://pietromaggi.com/touch-icon-144-precomposed.png">
<link href="http://pietromaggi.com/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.42.1" />

  
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="http://pietromaggi.com/css/font-awesome.min.css">
<link rel="stylesheet" href="http://pietromaggi.com/css/style.css">
<link rel="stylesheet" href="http://pietromaggi.com/css/highlight/docco.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-78928627-1', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="http://pietromaggi.com/">
  Garbage Collector

</a>

</div>

  
<div class="container topline">
  
  Tales from an old nibble


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="http://pietromaggi.com/">Home</a>


  
<a href="http://pietromaggi.com/about">About</a>

<a href="http://pietromaggi.com/post" title="Show list of posts">Posts</a>

<a href="http://pietromaggi.com/speaking">Speaking Appointments</a>

<a href="http://pietromaggi.com/decks">Slide Decks</a>

<a href="http://pietromaggi.com/tags" title="Show list of tags">Tags</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" href="mailto:pfm@pietromaggi.com">
  <span class="fa fa-envelope-square"></span><span>email</span></a>



<a id="contact-link-github" class="contact_link" href="https://github.com/pfmaggi">
  <span class="fa fa-github-square"></span><span>github</span></a>



<a id="contact-link-bitbucket" class="contact_link" href="https://bitbucket.org/pfmaggi">
  <span class="fa fa-bitbucket-square"></span><span>bitbucket</span></a>



<a id="contact-link-linkedin" class="contact_link" href="https://www.linkedin.com/in/pietromaggi">
  <span class="fa fa-linkedin-square"></span><span>linkedin</span></a>







<a id="contact-link-twitter" class="contact_link" href="https://twitter.com/pfmaggi">
  <span class="fa fa-twitter-square"></span><span>twitter</span></a>













</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>Toggling MC18 Navigation (and Status) Bar visible state
</h1>

  <div class="metas">
<time datetime="2016-10-30">30 Oct, 2016</time>


  
    &middot; by Pietro F. Maggi
  
  &middot; Read in about 3 min
  &middot; (462 Words)
  <br>
  
<a class="label" href="http://pietromaggi.com/tags/android">Android</a>

<a class="label" href="http://pietromaggi.com/tags/mc18">MC18</a>

<a class="label" href="http://pietromaggi.com/tags/zebra-technologies">Zebra Technologies</a>



</div>

</header>

  <div class="container content">
  

<p>MC18 is the only Zebra Android mobile computer (at least till now) that uses a Navigation bar instead of phisycal buttons for the back and home.
This is the first device where it makes sense to use <a href="https://developer.android.com/samples/ImmersiveMode/index.html">Android immersive mode</a>!</p>

<p>The problem with the standard immersive mode is that swiping from the bottom or the top of the screen re-enable both Navigation and Status bar. It&rsquo;s not really intended to be a kiosk mode&hellip; is just to have a full screen capability.</p>

<p>Luckily, MC18 Android supports natively a setup to hide both Status and Navigation bar making much more easy to lock a user inside a single application.</p>

<h2 id="enter-the-navbarconfig-xml">Enter the <code>navbarconfig.xml</code></h2>

<p>Android version of the MC18 has a configuration xml file to control the navbar visibility status located in the <code>/enterprise</code> partition:</p>

<pre><code>/enterprise/device/settings/navbarconfig/navbarconfig.xml
</code></pre>

<p>This file can be used to configure permanently the visibility status or to change it dynamically (this latest option is supported starting from BSP v02-13-12).</p>

<p>To change it permanently, set the content of the file to:</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;navbarconfig&gt;
    &lt;hidenavbar&gt;false&lt;/hidenavbar&gt;
&lt;/navbarconfig&gt;
</code></pre>

<p>You can copy the file created in this way to the device using adb or an MDM, but you cannot navigate to <code>/enterprise</code> due to some permission restrictions. However you can navigate directly to the <code>/enterprise/device/</code> folder (and the folders under it).  So, can use adb to push the data on the device:</p>

<pre><code>adb push navbarconfig.xml /enterprise/device/settings/navbarconfig/navbarconfig.xml
</code></pre>

<p>Then you need to reset the device to activare the new setting.</p>

<p>If you&rsquo;ve the BSP v0-13-12 or newer you can change the setting dynamically, without the need of restarting the device, you can use this xml file inside your <code>navbarconfig.xml</code>:</p>

<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;navbarconfig&gt;
    &lt;hidenavbarinstant&gt;false&lt;/hidenavbarinstant&gt;
&lt;/navbarconfig&gt;
</code></pre>

<p>Once you push this file to the device, it will modify immediately the configuration.
If you&rsquo;ve an older BSP <a href="https://portal.motorolasolutions.com/Support/XU-EN/Resolution?solutionId=101574&amp;productDetailGUID=a3b89f5683686410VgnVCM10000001c7b00aRCRD&amp;detailChannelGUID=96d05645aa79f310VgnVCM10000081c7b10aRCRD">you can download v02-13-12 from our support website</a> if you have a valid maintenance contract or you&rsquo;re registered as an ISV partner.</p>

<p>As an alternative you can toggle the navbar status using a broadcast intent with action <code>com.symbol.intent.action.systembarvisibility</code>, with a boolean extra with name  <code>visibility</code> as shown below in the code snippets:</p>

<pre><code>private final static String mStrIntent = &quot;com.symbol.intent.action.systembarvisibility&quot;;
private final static String INTENT_EXTRA = &quot;visibility&quot;;

Intent i = new Intent(mStrIntent);
i.putExtra(INTENT_EXTRA, mbNavBarVisible);
sendBroadcast(i);
</code></pre>

<p>This allows your application to hide/show the Navigation bar at will.</p>

<p>Nice trick :-)</p>

<p><em>Thanks to Kelly, Gary, Andy and Kjell for providing the info needed to put this together!!!</em></p>

<p><strong>NOTE:</strong> The Intent to control the visibility status is not currently documented and, even if it works on the current version of the Operative System, it is not guarantee to work on future OS releases.</p>

<p>If you want a future proof control of the NavBar visibility, you can copy the updated configuration file from your app to the <code>/enterprise/device/settings/navbarconfig/</code> folder.</p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="http://pietromaggi.com/2016/10/29/enterprise-browser-and-datawedge-on-android---friends-at-the-end/" title="Enterprise Browser and DataWedge on Android - friends at the end">
      Previous
    </a>
    

    
    <a class="next" href="http://pietromaggi.com/2017/08/08/using-android-sdk.dir-property-to-locate-emdks-jar-library./" title="Using Android `sdk.dir` property to locate EMDK&#39;s jar Library.">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//pietrofmaggi.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="http://pietromaggi.com/license">license</a>


  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <i class='fa fa-heart'></i>


</div>


  
<div class="container copyright">
  
  &copy; 2013-2018 Pietro F. Maggi


</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//pietrofmaggi.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="http://pietromaggi.com/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    
  </body>
</html>

