<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pietro F. Maggi</title>
    <link>http://pietromaggi.com/index.xml</link>
    <description>Recent content on Pietro F. Maggi</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-EN</language>
    <managingEditor>pfm@pietromaggi.com (Pietro F. Maggi)</managingEditor>
    <webMaster>pfm@pietromaggi.com (Pietro F. Maggi)</webMaster>
    <copyright>(c) 2013-2016 Pietro F. Maggi</copyright>
    <lastBuildDate>Sun, 30 Oct 2016 11:00:00 +0100</lastBuildDate>
    <atom:link href="http://pietromaggi.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Toggling MC18 Navigation (and Status) Bar visible state</title>
      <link>http://pietromaggi.com/2016/10/30/toggling-mc18-navigation-and-status-bar-visible-state/</link>
      <pubDate>Sun, 30 Oct 2016 11:00:00 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/10/30/toggling-mc18-navigation-and-status-bar-visible-state/</guid>
      <description>

&lt;p&gt;MC18 is the only Zebra Android mobile computer (at least till now) that uses a Navigation bar instead of phisycal buttons for the back and home.
This is the first device where it makes sense to use &lt;a href=&#34;https://developer.android.com/samples/ImmersiveMode/index.html&#34;&gt;Android immersive mode&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;The problem with the standard immersive mode is that swiping from the bottom or the top of the screen re-enable both Navigation and Status bar. It&amp;rsquo;s not really intended to be a kiosk mode&amp;hellip; is just to have a full screen capability.&lt;/p&gt;

&lt;p&gt;Luckily, MC18 Android supports natively a setup to hide both Status and Navigation bar making much more easy to lock a user inside a single application.&lt;/p&gt;

&lt;h2 id=&#34;enter-the-navbarconfig-xml&#34;&gt;Enter the &lt;code&gt;navbarconfig.xml&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Android version of the MC18 has a configuration xml file to control the navbar visibility status located in the &lt;code&gt;/enterprise&lt;/code&gt; partition:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/enterprise/device/settings/navbarconfig/navbarconfig.xml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This file can be used to configure permanently the visibility status or to change it dynamically (this latest option is supported starting from BSP v02-13-12).&lt;/p&gt;

&lt;p&gt;To change it permanently, set the content of the file to:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;navbarconfig&amp;gt;
    &amp;lt;hidenavbar&amp;gt;false&amp;lt;/hidenavbar&amp;gt;
&amp;lt;/navbarconfig&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can copy the file created in this way to the device using adb or an MDM, but you cannot navigate to &lt;code&gt;/enterprise&lt;/code&gt; due to some permission restrictions. However you can navigate directly to the &lt;code&gt;/enterprise/device/&lt;/code&gt; folder (and the folders under it).  So, can use adb to push the data on the device:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;adb push navbarconfig.xml /enterprise/device/settings/navbarconfig/navbarconfig.xml
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then you need to reset the device to activare the new setting.&lt;/p&gt;

&lt;p&gt;If you&amp;rsquo;ve the BSP v0-13-12 or newer you can change the setting dynamically, without the need of restarting the device, you can use this xml file inside your &lt;code&gt;navbarconfig.xml&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;navbarconfig&amp;gt;
    &amp;lt;hidenavbarinstant&amp;gt;false&amp;lt;/hidenavbarinstant&amp;gt;
&amp;lt;/navbarconfig&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once you push this file to the device, it will modify immediately the configuration.
If you&amp;rsquo;ve an older BSP &lt;a href=&#34;https://portal.motorolasolutions.com/Support/XU-EN/Resolution?solutionId=101574&amp;amp;productDetailGUID=a3b89f5683686410VgnVCM10000001c7b00aRCRD&amp;amp;detailChannelGUID=96d05645aa79f310VgnVCM10000081c7b10aRCRD&#34;&gt;you can download v02-13-12 from our support website&lt;/a&gt; if you have a valid maintenance contract or you&amp;rsquo;re registered as an ISV partner.&lt;/p&gt;

&lt;p&gt;As an alternative you can toggle the navbar status using a broadcast intent with action &lt;code&gt;com.symbol.intent.action.systembarvisibility&lt;/code&gt;, with a boolean extra with name  &lt;code&gt;visibility&lt;/code&gt; as shown below in the code snippets:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;private final static String mStrIntent = &amp;quot;com.symbol.intent.action.systembarvisibility&amp;quot;;
private final static String INTENT_EXTRA = &amp;quot;visibility&amp;quot;;

Intent i = new Intent(mStrIntent);
i.putExtra(INTENT_EXTRA, mbNavBarVisible);
sendBroadcast(i);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This allows your application to hide/show the Navigation bar at will.&lt;/p&gt;

&lt;p&gt;Nice trick :-)&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thanks to Kelly, Gary, Andy and Kjell for providing the info needed to put this together!!!&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; The Intent to control the visibility status is not currently documented and, even if it works on the current version of the Operative System, it is not guarantee to work on future OS releases.&lt;/p&gt;

&lt;p&gt;If you want a future proof control of the NavBar visibility, you can copy the updated configuration file from your app to the &lt;code&gt;/enterprise/device/settings/navbarconfig/&lt;/code&gt; folder.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Enterprise Browser and DataWedge on Android - friends at the end</title>
      <link>http://pietromaggi.com/2016/10/29/enterprise-browser-and-datawedge-on-android---friends-at-the-end/</link>
      <pubDate>Sat, 29 Oct 2016 11:00:00 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/10/29/enterprise-browser-and-datawedge-on-android---friends-at-the-end/</guid>
      <description>

&lt;p&gt;During Enterprise Browser hands-on lab, I got some enquiry about using other MobilityDNA utilities together with EB; in particular how to integrate &lt;em&gt;SwipeAssist&lt;/em&gt; and &lt;em&gt;Simulscan&lt;/em&gt;.
These utilities can be integrated, with some heavy lifting, and accepting some constraints.&lt;/p&gt;

&lt;h2 id=&#34;some-background&#34;&gt;Some background&lt;/h2&gt;

&lt;p&gt;The current scanner framework implementation on our Android devices make available a single scanner object that provides full Scanner control. As always &amp;hellip;&amp;laquo;with great power comes great responsibility&amp;raquo;: an application using the scanner object from the Barcode API, is required to release it when it&amp;rsquo;s going in the background (usually you do this handling in the &lt;code&gt;onPause()&lt;/code&gt; callback in your native application).
Enteprise Browser implements its own &lt;code&gt;Barcode API&lt;/code&gt; on top of the native EMDK Barcode API, however, due to the nature of the web application running inside EB, it does not release the scanner object. This locks the use of the scanner out for any other application that is in foreground while EB is in the background; &lt;em&gt;including DataWedge&lt;/em&gt;.
Because utilities like SwipeAssist, are linked to DataWedge:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;NO DataWedge --&amp;gt; NO SwipeAssist
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;the-standard-experience&#34;&gt;The standard experience&lt;/h3&gt;

&lt;p&gt;When you run EB v1.5 on our Android devices, DataWedge is completely disabled, even when EB is in the background&amp;hellip;
This is good if you plan to work completely inside an EB application, however, sometimes, you want to have some sort of integration.&lt;/p&gt;

&lt;h3 id=&#34;some-of-the-requests&#34;&gt;Some of the requests&lt;/h3&gt;

&lt;p&gt;During these last weeks I got some request from Enterprise Browser users:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Being able to use DataWedge to scan barcodes inside EB&lt;/li&gt;
&lt;li&gt;Being able to use SwipeAssist&lt;/li&gt;
&lt;li&gt;Being able to use SimulScan multibarcode scanning from EB&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let&amp;rsquo;s start from the first request!&lt;/p&gt;

&lt;h2 id=&#34;making-eb-and-dw-coexist&#34;&gt;Making EB and DW coexist&lt;/h2&gt;

&lt;p&gt;We&amp;rsquo;ve documented the steps to enable DataWedge in EB on the &lt;a href=&#34;http://techdocs.zebra.com/enterprise-browser/1-5/guide/datawedge/&#34;&gt;documentation website for EB v1.5&lt;/a&gt;.
So, go there, and download the new DW profiles documented there!&lt;/p&gt;

&lt;p&gt;Once you&amp;rsquo;ve imported the two profile from the previous section, DataWedge will display a new profile with the name &amp;laquo;EnterpriseBrowser&amp;raquo;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_7b.png&#34; alt=&#34;EnterpriseBrowser profile now shown&#34; title=&#34;profile&#34; /&gt;&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re now ready to play with Enteprise Browser configuration to see if this works.&lt;/p&gt;

&lt;h3 id=&#34;update-config-xml-and-test-a-sample-webpage&#34;&gt;Update Config.xml and test a sample webpage&lt;/h3&gt;

&lt;p&gt;To follow this steps you need to have launched EB at least once, so that it creates its default configuration files under &lt;code&gt;/&amp;lt;sdcard/internal&amp;gt;/Android/data/com.symbol.enterprisebrowser&lt;/code&gt;.
The you can proceeds copying it to your PC to apply some changes.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/eb_Config.xml.png&#34; alt=&#34;Copy Config.xml to your PC to Modify it&#34; title=&#34;Copy Config.xml to your PC to modify it&#34; /&gt;&lt;/p&gt;

&lt;p&gt;You need to apply three changes to follow along the rest of this blog:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a name=&#34;Config_1&#34;&gt;&lt;/a&gt;Enable the internal EB webserver and specify the folder how we plan to have the local files (as an example on the internal sdcard of the TC55 KK):&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;WebServer&amp;gt;
      &amp;lt;Enabled VALUE=&amp;quot;1&amp;quot;/&amp;gt;
      &amp;lt;Port VALUE=&amp;quot;8082&amp;quot;/&amp;gt;
      &amp;lt;WebFolder VALUE=&amp;quot;/storage/sdcard0/www/&amp;quot;/&amp;gt;
      &amp;lt;Public VALUE=&amp;quot;0&amp;quot;/&amp;gt;
    &amp;lt;/WebServer&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;Modify the startpage value:&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;General&amp;gt;
      &amp;lt;Name value=&amp;quot;Menu&amp;quot;/&amp;gt;
      &amp;lt;StartPage value=&amp;quot;http://127.0.0.1:8082/index.html&amp;quot; name=&amp;quot;Lab&amp;quot;/&amp;gt;
      &amp;lt;UseRegularExpressions value=&amp;quot;0&amp;quot;/&amp;gt;
    &amp;lt;/General&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;Enable the use of DataWedge for barcode scanning inside Enteprise Browser&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;usedwforscanning  value=&amp;quot;1&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can try with a simple HTML page to see if it works:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;html&amp;gt;
      &amp;lt;head&amp;gt;
      &amp;lt;/head&amp;gt;
      &amp;lt;body&amp;gt;
        &amp;lt;input type=&amp;quot;number&amp;quot; id=&amp;quot;Barcode&amp;quot; /&amp;gt;
      &amp;lt;/body&amp;gt;
    &amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To test this page on the device, we&amp;rsquo;ve to copy it into the root folder of the HTTP server we configured in our &lt;code&gt;Config.xml&lt;/code&gt;, if you used the settings reported &lt;a href=&#34;#Config_1&#34;&gt;here&lt;/a&gt;, you can copy this file to &lt;code&gt;/storage/sdcard0/www/&lt;/code&gt; giving it the name: &lt;code&gt;index.html&lt;/code&gt;.
Opening Enterprise Browser we see that we can:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;touch the edit field (and have the numeric keyboard displayed)&lt;/li&gt;
&lt;li&gt;scan a barcode with the hardware trigger&lt;/li&gt;
&lt;li&gt;have the barcode inserted in the edit field by DataWedge&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/eb_step1.png&#34; alt=&#34;EB and DW test1&#34; title=&#34;EB and DW test1&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;automate-this-step-a-bit&#34;&gt;Automate this step a bit&lt;/h3&gt;

&lt;p&gt;Next thing that would be nice to have is to avoid to touch the display to be able to scan, in this case a little JavaScript can help.
With this version of the sample we can immediately scan a barcode getting the data in the input field. Note that no Keyboard is shown as I&amp;rsquo;ve not touched the input field here:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;script&amp;gt;
      function domReadyEvent() {
        setTimeout(function() {
          var fld = document.getElementById(&#39;Barcode&#39;);
          fld.focus();
        }, 1000);
      }

      window.addEventListener(&#39;DOMContentLoaded&#39;, domReadyEvent);
    &amp;lt;/script&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;input type=&amp;quot;number&amp;quot; id=&amp;quot;Barcode&amp;quot; /&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/eb_step2.png&#34; alt=&#34;EB and DW test2&#34; title=&#34;EB and DW test2&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;eb-and-swipeassist&#34;&gt;EB and SwipeAssist&lt;/h2&gt;

&lt;p&gt;What if we want to use SwipeAssist inside this demo application?
It&amp;rsquo;s simply a matter of enabling the &lt;code&gt;Show&lt;/code&gt; option in the Data Capture Panel section of our DataWedge profile &lt;code&gt;EB_Simulscan&lt;/code&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_15.png&#34; alt=&#34;Activate SwipeAssist in DataWedge Profile for EB&#34; title=&#34;Activate SwipeAssist in DataWedge Profile for EB&#34; /&gt;&lt;/p&gt;

&lt;p&gt;And the result in EB is:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/eb_swipeassist.png&#34; alt=&#34;SwipeAssist active in EB&#34; title=&#34;SwipeAssist active in EB&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;eb-and-simulscan&#34;&gt;EB and SimulScan&lt;/h2&gt;

&lt;p&gt;Next, and final, goal is to use SimulScan to read two barcodes and have the data filled in two different input field, with the minimum JavaScript necessary to select the first input field:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;script&amp;gt;
      function domReadyEvent() {
        setTimeout(function() {
          var fld = document.getElementById(&#39;Barcode&#39;);
          fld.focus();
        }, 1000);
      }

      window.addEventListener(&#39;DOMContentLoaded&#39;, domReadyEvent);
    &amp;lt;/script&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;input type=&amp;quot;number&amp;quot; id=&amp;quot;Barcode&amp;quot; /&amp;gt; &amp;lt;br&amp;gt;
    &amp;lt;input type=&amp;quot;number&amp;quot; id=&amp;quot;Barcode2&amp;quot; /&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It now time to play a bit with the DataWedge profile configuration, starting disabling the Data Capture Panel, and Enabling Simulscan, selecting the &lt;code&gt;Default - Barcode 2&lt;/code&gt; template:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_16.png&#34; alt=&#34;Enable Simulscan in DataWedge Profile for EB&#34; title=&#34;Enable Simulscan in DataWedge Profile for EB&#34; /&gt;&lt;/p&gt;

&lt;p&gt;If we now try this on our page, we see that the two barcodes are send as a single string, we need to split the two barcodes.  The &lt;code&gt;Region Separator&lt;/code&gt; seems like a good candidate, however, even sending a tab as a separator is not going to solve this issue.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_17.png&#34; alt=&#34;Tab as Region Separator&#34; title=&#34;Tab as Region Separator&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_18.png&#34; alt=&#34;Final DataWedge Profile with Tab Terminator in Simulscan&#34; title=&#34;Final DataWedge Profile with Tab Terminator in Simulscan&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The reason is that the web pages takes to much time to switch the focus to the second input field and so you end up loosing the data of the second barcodes:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/eb_step3a.png&#34; alt=&#34;Second barcode from Simulscan is lost&#34; title=&#34;Second barcode from Simulscan is lost&#34; /&gt;&lt;/p&gt;

&lt;p&gt;We can try a different solution using DataWedge &lt;em&gt;Advanced Data Formatting&lt;/em&gt; so, we revert back to not have any region separator for Simulscan and we add and Advanced Data formatting rule:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_19.png&#34; alt=&#34;Add an Advanced Formatting Rule&#34; title=&#34;Add an Advanced Formatting Rule&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Enable it!&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_20.png&#34; alt=&#34;Enable it&#34; title=&#34;Enable it&#34; /&gt;&lt;/p&gt;

&lt;p&gt;and specify when it needs to be activated. I this case for me it&amp;rsquo;s always in my scenario&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_21.png&#34; alt=&#34;ADF Criteria&#34; title=&#34;ADF Criteria&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Just checking that this rule is only applied to data coming from Simulscan and not from the Barcode scanner&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_22.png&#34; alt=&#34;ADF Source&#34; title=&#34;ADF Source&#34; /&gt;&lt;/p&gt;

&lt;p&gt;And now the actual rule.
The basic idea is to send the first 9 chars of the data coming from Simulscan (in my case this is the first barcode), then send a tab, wait for 100ms and then send the rest of the data coming from Simulscan:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/dw_23.png&#34; alt=&#34;Enable it&#34; title=&#34;Enable it&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Again:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Send the first 9 chars&lt;/li&gt;
&lt;li&gt;Send a tab (&lt;code&gt;0x09&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Wait 100ms&lt;/li&gt;
&lt;li&gt;Send the rest of the data&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If we try this setup with our simple test page, the result is actually the desidered one:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/eb_dw/eb_step3.png&#34; alt=&#34;The final app scanning two barcodes at once with Simulscan&#34; title=&#34;The final app scanning two barcodes at once with Simulscan&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;We reached the end of this exploration on how is possible to integrate Enterprise Browser with DataWedge.
In some cases it makes sense to use a similar setup to enable existing webpages without touching them. For this reason, in the samples presented here, I tried to minimize the amout of JavaScript code needed to have them working.
A much better integration can be achieved starting to work on the onKeyPress events or using EB Intent API.
Personally I think that if you want to customize your web app to have a better integration on Zebra devices, using EB&amp;rsquo;s Barcode API is a better choice that following the DataWedge route.&lt;/p&gt;

&lt;p&gt;Talking about Simulscan, it could be interesting evaluate how to integrate DataWedge SimulScan Intent output with EB&amp;hellip; Till there&amp;rsquo;s no integrated SimulScan API in Enterprise Browser.&lt;/p&gt;

&lt;p&gt;Let me know if you have any comment on these topics.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Disabling Home Button on Zebra Android devices</title>
      <link>http://pietromaggi.com/2016/08/01/disabling-home-button-on-zebra-android-devices/</link>
      <pubDate>Mon, 01 Aug 2016 17:00:00 +0200</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/08/01/disabling-home-button-on-zebra-android-devices/</guid>
      <description>

&lt;h2 id=&#34;intro&#34;&gt;Intro&lt;/h2&gt;

&lt;p&gt;I presented in the past a method to disable the Home Button on Zebra&amp;rsquo;s MC40 Android device, using a custom intent&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;br /&gt;
After having published it, I got some enquiries, about having the same behaviour on other Zebra&amp;rsquo;s devices. Well, it turns out that there&amp;rsquo;s now a &amp;laquo;standard&amp;raquo; way to do this in Zebra&amp;rsquo;s Mx extension using the UI Manager profile. This post is going to show how to implement a simple application that can disable the Home Button on all Zebra&amp;rsquo;s devices that have Mx v4.3 installed&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:2&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:2&#34;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;h2 id=&#34;the-basic-idea&#34;&gt;The basic idea&lt;/h2&gt;

&lt;p&gt;Mx v4.3 introduced the support in the &lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-2/mx/uimgr/#homekey-enabledisable&#34;&gt;UI Manager to disable the Home Button&lt;/a&gt; to disable the normal Home button behavior: &lt;em&gt;You can disable it and there&amp;rsquo;s no way to exit from the foreground application&lt;/em&gt;.&lt;/p&gt;

&lt;h2 id=&#34;project-setup&#34;&gt;Project setup&lt;/h2&gt;

&lt;p&gt;We start creating a new Android application in Android Studio. I&amp;rsquo;m using Android Studio v2.1.2 with Build tools 23.0.3, and the EMDK v4.2. Your mileage can vary if you&amp;rsquo;re using a different setup.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt; I prefer to integrate Zebra Technologies&amp;rsquo; EMDK as a library in the gradle module file. You can find more information about this in the &lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-2/tutorial/tutCreateProjectAndroidStudio/#emdkasadependencyingradlebuild&#34;&gt;EMDK documentation&lt;/a&gt; and in &lt;a href=&#34;http://pietromaggi.com/2015/11/25/building-zebras-emdk-project-using-sdk-platform-23/&#34;&gt;this blog&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;create-a-new-android-project&#34;&gt;Create a new Android project&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/AndroidNewPrj_01.png&#34; alt=&#34;Creating a new Android Application, step 1&#34; title=&#34;Creating a new Android Application, step 1&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/AndroidNewPrj_02.png&#34; alt=&#34;Creating a new Android Application, step 2&#34; title=&#34;Creating a new Android Application, step 2&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/AndroidNewPrj_03.png&#34; alt=&#34;Creating a new Android Application, step 3&#34; title=&#34;Creating a new Android Application, step 3&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/AndroidNewPrj_04.png&#34; alt=&#34;Creating a new Android Application, step 4&#34; title=&#34;Creating a new Android Application, step 4&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;add-the-emdk-library-reference-to-the-project&#34;&gt;Add the EMDK library reference to the project&lt;/h3&gt;

&lt;p&gt;Next step is to add a reference to the EMDK library that you need to have already installed on your development machine &lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-2/guide/setup/&#34;&gt;following the Getting Started guide&lt;/a&gt;.  In my case I&amp;rsquo;m using a mac and I need to modify my gradle file as:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;apply plugin: &#39;com.android.application&#39;

android {
    compileSdkVersion 23
    buildToolsVersion &amp;quot;23.0.3&amp;quot;

    defaultConfig {
        applicationId &amp;quot;com.pietromaggi.sample.mxhomebutton&amp;quot;
        minSdkVersion 16
        targetSdkVersion 23
        versionCode 1
        versionName &amp;quot;1.0&amp;quot;
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
        }
    }
}

dependencies {
    provided fileTree(include: [&#39;com.symbol.emdk.jar&#39;], dir: &#39;/Applications/androidSDK/add-ons/addon-symbol-emdk_v4.2-API-16/libs/&#39;)
    compile fileTree(exclude: [&#39;com.symbol.emdk.jar&#39;], dir: &#39;libs&#39;)
    testCompile &#39;junit:junit:4.12&#39;
    compile &#39;com.android.support:appcompat-v7:23.4.0&#39;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;add-the-emdk-library-and-permission-reference-to-the-android-manifest-xml-file&#34;&gt;Add the EMDK library and permission reference to the Android Manifest XML file&lt;/h3&gt;

&lt;p&gt;Next we need to update the AndroidManifest.xml file to add the requirement of having the EMDK library and requesting the EMDK permission:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;manifest xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
    package=&amp;quot;com.pietromaggi.sample.mxhomebutton&amp;quot;&amp;gt;

    &amp;lt;uses-permission android:name=&amp;quot;com.symbol.emdk.permission.EMDK&amp;quot; /&amp;gt;

    &amp;lt;application
        android:allowBackup=&amp;quot;true&amp;quot;
        android:icon=&amp;quot;@mipmap/ic_launcher&amp;quot;
        android:label=&amp;quot;@string/app_name&amp;quot;
        android:supportsRtl=&amp;quot;true&amp;quot;
        android:theme=&amp;quot;@style/AppTheme&amp;quot;&amp;gt;

        &amp;lt;uses-library android:name=&amp;quot;com.symbol.emdk&amp;quot; /&amp;gt;

        &amp;lt;activity android:name=&amp;quot;.MainActivity&amp;quot;&amp;gt;
            &amp;lt;intent-filter&amp;gt;
                &amp;lt;action android:name=&amp;quot;android.intent.action.MAIN&amp;quot; /&amp;gt;

                &amp;lt;category android:name=&amp;quot;android.intent.category.LAUNCHER&amp;quot; /&amp;gt;
            &amp;lt;/intent-filter&amp;gt;
        &amp;lt;/activity&amp;gt;
    &amp;lt;/application&amp;gt;

&amp;lt;/manifest&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;create-the-mx-profile-to-disable-the-home-button&#34;&gt;Create the Mx Profile to disable the Home Button&lt;/h3&gt;

&lt;p&gt;We can use EMDK&amp;rsquo;s Wizard to create the&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/EMDKWizard_01.png&#34; alt=&#34;Create EMDK UIManager Profile, step 1&#34; title=&#34;Create EMDK UIManager Profile, step 1&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/EMDKWizard_02.png&#34; alt=&#34;Create EMDK UIManager Profile, step 2&#34; title=&#34;Create EMDK UIManager Profile, step 2&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/EMDKWizard_03.png&#34; alt=&#34;Create EMDK UIManager Profile, step 3&#34; title=&#34;Create EMDK UIManager Profile, step 3&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/EMDKWizard_04.png&#34; alt=&#34;Create EMDK UIManager Profile, step 4&#34; title=&#34;Create EMDK UIManager Profile, step 4&#34; /&gt;&lt;/p&gt;

&lt;p&gt;In this way we obtain this profile to disable the home button:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;!--This is an auto generated document. Changes to this document may cause incorrect behavior.--&amp;gt;
&amp;lt;wap-provisioningdoc&amp;gt;
    &amp;lt;characteristic type=&amp;quot;ProfileInfo&amp;quot;&amp;gt;
        &amp;lt;parm name=&amp;quot;created_wizard_version&amp;quot; value=&amp;quot;4.1.1&amp;quot;/&amp;gt;
    &amp;lt;/characteristic&amp;gt;
    &amp;lt;characteristic type=&amp;quot;Profile&amp;quot;&amp;gt;
        &amp;lt;parm name=&amp;quot;ProfileName&amp;quot; value=&amp;quot;HomeButton&amp;quot;/&amp;gt;
        &amp;lt;parm name=&amp;quot;ModifiedDate&amp;quot; value=&amp;quot;2016-08-01 14:12:10&amp;quot;/&amp;gt;
        &amp;lt;parm name=&amp;quot;TargetSystemVersion&amp;quot; value=&amp;quot;4.4&amp;quot;/&amp;gt;
        &amp;lt;characteristic type=&amp;quot;UiMgr&amp;quot; version=&amp;quot;4.3&amp;quot;&amp;gt;
        &amp;lt;parm name=&amp;quot;emdk_name&amp;quot; value=&amp;quot;&amp;quot;/&amp;gt;
        &amp;lt;parm name=&amp;quot;HomeKeyUsage&amp;quot; value=&amp;quot;2&amp;quot;/&amp;gt;
        &amp;lt;/characteristic&amp;gt;
    &amp;lt;/characteristic&amp;gt;
&amp;lt;/wap-provisioningdoc&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;add-handling-of-emdk-profile-apis-in-mainactivity&#34;&gt;Add handling of EMDK Profile APIs in MainActivity&lt;/h3&gt;

&lt;p&gt;Here we can follow along EMDK documentation&amp;rsquo;s &lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-2/tutorial/tutdatacaptureprofile/&#34;&gt;Data Capture Profile Feature Tutorial&lt;/a&gt;.&lt;br /&gt;
First step is to implement the EMDKListener interface in the MainActivity class, obtaining this code:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;package com.pietromaggi.sample.mxhomebutton;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;

import com.symbol.emdk.EMDKManager;

public class MainActivity extends AppCompatActivity implements EMDKManager.EMDKListener {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public void onOpened(EMDKManager emdkManager) {

    }

    @Override
    public void onClosed() {

    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We&amp;rsquo;ve now to request an EMDKMAnager Instance and, in the &lt;code&gt;onOpened&lt;/code&gt; callback, get an instance of the Profile Manager to process the profile we created at the previous step.&lt;/p&gt;

&lt;p&gt;Again, this is just a cut and past from the &lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-2/tutorial/tutdatacaptureprofile/&#34;&gt;Data Capture Profile Feature Tutorial&lt;/a&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;package com.pietromaggi.sample.mxhomebutton;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.widget.Toast;

import com.symbol.emdk.EMDKManager;
import com.symbol.emdk.EMDKResults;
import com.symbol.emdk.ProfileManager;

public class MainActivity extends AppCompatActivity implements EMDKManager.EMDKListener {

    private EMDKManager emdkManager;
    private ProfileManager mProfileManager;
    private String profileName = &amp;quot;HomeButton&amp;quot;;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //The EMDKManager object will be created and returned in the callback.
        EMDKResults results = EMDKManager.getEMDKManager(getApplicationContext(), this);

        //Check the return status of getEMDKManager
        if(results.statusCode != EMDKResults.STATUS_CODE.SUCCESS)
        {
            //Failed to create EMDKManager object
            Toast.makeText(this, &amp;quot;Error retrieving EMDK Manager instance.&amp;quot;, Toast.LENGTH_SHORT);
        }
    }

    @Override
    public void onOpened(EMDKManager emdkManager) {
        this.emdkManager = emdkManager;
        //Get the ProfileManager object to process the profiles
        mProfileManager = (ProfileManager) emdkManager.getInstance(EMDKManager.FEATURE_TYPE.PROFILE);

        if(mProfileManager != null)
        {
            try{

                String[] modifyData = new String[1];
                //Call processProfile with profile name and SET flag to create the profile. The modifyData can be null.

                EMDKResults results = mProfileManager.processProfile(profileName, ProfileManager.PROFILE_FLAG.SET, modifyData);
                if(results.statusCode == EMDKResults.STATUS_CODE.FAILURE)
                {
                    //Failed to set profile
                }
            }catch (Exception ex){
                // Handle any exception
            }


        }
    }

    @Override
    public void onClosed() {

    }

    @Override
    protected void onDestroy() {
        super.onDestroy();
        //Clean up the objects created by EMDK manager
        emdkManager.release();
    }
}

}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If we run this application on a Zebra device with Mx v4.3+ we see that it disables the Home Button.&lt;br /&gt;
Notes that this is not a kiosk mode, settings and notifications are still available and you need to use other Mx Profiles to disable these.  However, this setting is now persisted on the device even if you reset it.  To revert back to the default you need to do an &lt;em&gt;Enterprise Reset&lt;/em&gt; or a &lt;em&gt;Factory Reset&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&#34;add-a-small-interface-to-enable-disable-the-home-button&#34;&gt;Add a small interface to enable/disable the home button&lt;/h3&gt;

&lt;p&gt;To complete this sample could be useful to add a small UI that allows to enable/disable the home button; something like:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/AppUI.png&#34; alt=&#34;Sample UI with Toggle Button&#34; title=&#34;Sample UI with Toggle Button&#34; /&gt;&lt;/p&gt;

&lt;p&gt;This is the new layout file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;RelativeLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
    xmlns:tools=&amp;quot;http://schemas.android.com/tools&amp;quot;
    android:layout_width=&amp;quot;match_parent&amp;quot;
    android:layout_height=&amp;quot;match_parent&amp;quot;
    android:paddingBottom=&amp;quot;@dimen/activity_vertical_margin&amp;quot;
    android:paddingLeft=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;
    android:paddingRight=&amp;quot;@dimen/activity_horizontal_margin&amp;quot;
    android:paddingTop=&amp;quot;@dimen/activity_vertical_margin&amp;quot;
    tools:context=&amp;quot;com.pietromaggi.sample.mxhomebutton.MainActivity&amp;quot;&amp;gt;

    &amp;lt;LinearLayout
        android:orientation=&amp;quot;horizontal&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_centerHorizontal=&amp;quot;true&amp;quot;&amp;gt;

        &amp;lt;TextView
            android:layout_width=&amp;quot;wrap_content&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:text=&amp;quot;@string/home_button_status&amp;quot;
            android:layout_centerHorizontal=&amp;quot;true&amp;quot; /&amp;gt;

        &amp;lt;ToggleButton
            android:id=&amp;quot;@+id/tgHomeButton&amp;quot;
            android:layout_width=&amp;quot;wrap_content&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:textOn=&amp;quot;Enabled&amp;quot;
            android:textOff=&amp;quot;Disabled&amp;quot; /&amp;gt;


    &amp;lt;/LinearLayout&amp;gt;
&amp;lt;/RelativeLayout&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And this is the code taking care of the click event for the toggle button. You can find here the whole onCreate callback:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    //The EMDKManager object will be created and returned in the callback.
    EMDKResults results = EMDKManager.getEMDKManager(getApplicationContext(), this);

    final ToggleButton tgHomeButton = (ToggleButton)findViewById(R.id.tgHomeButton);

    //Check the return status of getEMDKManager
    if(results.statusCode != EMDKResults.STATUS_CODE.SUCCESS)
    {
        //Failed to create EMDKManager object
        Toast.makeText(this, &amp;quot;Error retrieving EMDK Manager instance.&amp;quot;, Toast.LENGTH_SHORT);
        tgHomeButton.setEnabled(false);
    } else {
        tgHomeButton.setEnabled(true);

        tgHomeButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                if(mProfileManager != null)
                {
                    try{

                        String[] modifyData = new String[1];

                        boolean on = ((ToggleButton) v).isChecked();
                            modifyData[0] =
                                    &amp;quot;&amp;lt;?xml version=\&amp;quot;1.0\&amp;quot; encoding=\&amp;quot;UTF-8\&amp;quot;?&amp;gt;&amp;lt;!--This is an auto generated document. Changes to this document may cause incorrect behavior.--&amp;gt;&amp;lt;wap-provisioningdoc&amp;gt;\n&amp;quot; +
                                    &amp;quot;  &amp;lt;characteristic type=\&amp;quot;ProfileInfo\&amp;quot;&amp;gt;\n&amp;quot; +
                                    &amp;quot;    &amp;lt;parm name=\&amp;quot;created_wizard_version\&amp;quot; value=\&amp;quot;4.1.1\&amp;quot;/&amp;gt;\n&amp;quot; +
                                    &amp;quot;  &amp;lt;/characteristic&amp;gt;\n&amp;quot; +
                                    &amp;quot;  &amp;lt;characteristic type=\&amp;quot;Profile\&amp;quot;&amp;gt;\n&amp;quot; +
                                    &amp;quot;    &amp;lt;parm name=\&amp;quot;ProfileName\&amp;quot; value=\&amp;quot;HomeButton\&amp;quot;/&amp;gt;\n&amp;quot; +
                                    &amp;quot;    &amp;lt;parm name=\&amp;quot;ModifiedDate\&amp;quot; value=\&amp;quot;2016-08-01 16:30:10\&amp;quot;/&amp;gt;\n&amp;quot; +
                                    &amp;quot;    &amp;lt;parm name=\&amp;quot;TargetSystemVersion\&amp;quot; value=\&amp;quot;4.4\&amp;quot;/&amp;gt;\n&amp;quot; +
                                    &amp;quot;    &amp;lt;characteristic type=\&amp;quot;UiMgr\&amp;quot; version=\&amp;quot;4.3\&amp;quot;&amp;gt;\n&amp;quot; +
                                    &amp;quot;      &amp;lt;parm name=\&amp;quot;emdk_name\&amp;quot; value=\&amp;quot;\&amp;quot;/&amp;gt;\n&amp;quot; +
                                    &amp;quot;      &amp;lt;parm name=\&amp;quot;HomeKeyUsage\&amp;quot; value=\&amp;quot;&amp;quot; + (on?&amp;quot;1&amp;quot;:&amp;quot;2&amp;quot;) + &amp;quot;\&amp;quot;/&amp;gt;\n&amp;quot; +
                                    &amp;quot;    &amp;lt;/characteristic&amp;gt;\n&amp;quot; +
                                    &amp;quot;  &amp;lt;/characteristic&amp;gt;\n&amp;quot; +
                                    &amp;quot;&amp;lt;/wap-provisioningdoc&amp;gt;\n&amp;quot;;

                        //Call processProfile with profile name and SET flag to create the profile. The modifyData can be null.
                        EMDKResults results = mProfileManager.processProfile(profileName, ProfileManager.PROFILE_FLAG.SET, modifyData);
                        if(results.statusCode == EMDKResults.STATUS_CODE.FAILURE)
                        {
                            //Failed to set profile
                            Toast.makeText(MainActivity.this, &amp;quot;Failed to set the new profile&amp;quot;, Toast.LENGTH_SHORT).show();
                        } else if (results.statusCode == EMDKResults.STATUS_CODE.CHECK_XML) {
                            String responseXML = results.getStatusString();
                            if (responseXML.contains(&amp;quot;error&amp;quot;)) {
                                Toast.makeText(MainActivity.this, &amp;quot;Failed to set the new profile&amp;quot;, Toast.LENGTH_SHORT).show();
                            }
                        }
                    }catch (Exception ex){
                        // Handle any exception
                        Toast.makeText(MainActivity.this, &amp;quot;Failed to set the new profile&amp;quot;, Toast.LENGTH_SHORT).show();
                    }


                }
            }

        });
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;Mx is getting better and better, and the latest version have introduced some interesting additional features and more are going to be added in the future.&lt;br /&gt;
I hope that this small blog has made this clear and you can find more interesting suggestion on EMDK official documentation.&lt;/p&gt;

&lt;p&gt;For now I leave you with a video of the app working and the complete source code of the project available on &lt;a href=&#34;https://github.com/pfmaggi/MxHomeButton&#34;&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mx_home_btn/AppUI.gif&#34; alt=&#34;Sample UI with Toggle Button&#34; title=&#34;Sample UI with Toggle Button&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;&lt;a href=&#34;http://pietromaggi.com/2016/01/18/disabling-mc40-home-button-with-a-custom-intent/&#34;&gt;Disabling MC40 Home Button with a custom intent&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;&lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-2/mx/uimgr/#homekey-enabledisable&#34;&gt;UI Manager documentation&lt;/a&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:2&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Managing Display AutoRotation from StageNow</title>
      <link>http://pietromaggi.com/2016/06/07/managing-display-autorotation-from-stagenow/</link>
      <pubDate>Tue, 07 Jun 2016 20:00:00 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/06/07/managing-display-autorotation-from-stagenow/</guid>
      <description>

&lt;p&gt;Another busy day with enquiry about our devices/tools.&lt;br /&gt;
The funny thing is that, most of the time, answer to a question with another one is actually a good strategy :-)&lt;/p&gt;

&lt;p&gt;This one cames from my colleague Raymond:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Can we launch an adb commands from Stagenow?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The quick answer is no, the right answer is: &lt;em&gt;what are you trying to achieve?&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I need a way to disable the Disaply AutoRotate setting, something that is possible to do using an &lt;code&gt;adb shell&lt;/code&gt; command:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;adb shell content insert --uri content://settings/system --bind name:s:accelerometer_rotation 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ok, so the real question is:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Can I disable Display AutoRotation using StageNow?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In this case the answer is yes, with some little help.
&lt;img src=&#34;http://pietromaggi.com/images/autorotate/disable.gif&#34; alt=&#34;Disable AutoRotate&#34; title=&#34;Disable AutoRotate&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;the-blueprint&#34;&gt;The blueprint&lt;/h2&gt;

&lt;p&gt;The idea to implement this is to have an application on the device that can disable this setting&amp;hellip;&lt;br /&gt;
Ok, so not really ground-breaking. But wait, there&amp;rsquo;s more.&lt;br /&gt;
Instead of having an application that blindly disable this setting, we can build it so that we can launch it with different arguments and act on the arguments.&lt;/p&gt;

&lt;p&gt;To give you the complete picture, we can think that to implement the complete solution we need few steps in StageNow:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Install the application on the device&lt;/li&gt;
&lt;li&gt;Launch the application with the proper argument (activate or deactivate AutoRotate in this case)&lt;/li&gt;
&lt;li&gt;Uninstall the application (optional step)&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;writing-to-the-settings&#34;&gt;Writing to the settings&lt;/h3&gt;

&lt;p&gt;An Android application can update the settings if it has the permission:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;android.permission.WRITE_SETTINGS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Just keep in mind that &lt;a href=&#34;https://developer.android.com/reference/android/Manifest.permission.html#WRITE_SETTINGS&#34;&gt;this does not allow full access to the settings&lt;/a&gt;, since Android v4.2.2, Google moved some of the settings under the &lt;em&gt;Secure Settings&lt;/em&gt; that requires a different permission that can be granted only to application that resides in the system folder or are signed with the platform keys. For additional information take a look at &lt;a href=&#34;https://developer.android.com/reference/android/Manifest.permission.html#WRITE_SECURE_SETTINGS&#34;&gt;&lt;code&gt;android.permission.WRITE_SECURE_SETTINGS&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Given that you application has the permission to write to the settings you can use the following code to write a new value to the AutoRotate setting:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;android.provider.Settings.System.putInt(getContentResolver(), Settings.System.ACCELEROMETER_ROTATION, value);
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;using-intent-extra-parameters&#34;&gt;Using Intent extra parameters&lt;/h3&gt;

&lt;p&gt;Ok, now that we&amp;rsquo;ve a way to set the settings, we want to have a way to get a parameter from StageNow to decide if we&amp;rsquo;ve to enable or disable the Display AutoRotate setting.&lt;br /&gt;
To do this we can use some extra parameters in the Intent that is used to launch our application:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;private final static String KEY_ROTATION = &amp;quot;AutoRotate&amp;quot;;

Bundle extras = getIntent().getExtras();
if (extras != null) {
    value = extras.getInt(KEY_ROTATION);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, from the command line, &lt;code&gt;adb shell&lt;/code&gt; to send the right parameter to our sample app:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;adb shell am start -n com.pietromaggi.sample.autorotate/.MainActivity --ei &amp;quot;AutoRotate&amp;quot; 0 
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;putting-the-different-pieces-together&#34;&gt;Putting the different pieces together&lt;/h2&gt;

&lt;p&gt;To keep things simple, I&amp;rsquo;ve build a very simple demo application that implement these two features, and then closes the activity.&lt;br /&gt;
you can find the source code &lt;a href=&#34;https://github.com/pfmaggi/autorotate&#34;&gt;in this github repository&lt;/a&gt; and the &lt;a href=&#34;https://github.com/pfmaggi/autorotate/releases/download/v1.0.0/autorotate.apk&#34;&gt;final release apk here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This on the device, we now need to put together the StageNow profile that install the apk and then send the intent to our application.&lt;/p&gt;

&lt;p&gt;To create the StageNow profile use the Expert Mode and add these steps:&lt;/p&gt;

&lt;h3 id=&#34;1-file-manager-to-copy-the-apk-on-the-device&#34;&gt;1. File Manager - to copy the apk on the device&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/autorotate/StageNow_1.png&#34; alt=&#34;Copy AutoRotate apk on the device&#34; title=&#34;Copy AutoRotate apk on the device&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;2-app-manager-to-install-update-the-apk&#34;&gt;2. App Manager - to install/update the apk&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/autorotate/StageNow_2.png&#34; alt=&#34;Install/update the apk&#34; title=&#34;Install/update the apk&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;3-intent-manager-to-launch-the-autorotate-app-with-the-disable-parameter&#34;&gt;3. Intent Manager - to launch the autorotate app with the disable parameter&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/autorotate/StageNow_3.png&#34; alt=&#34;launch the autorotate app with the disable parameter&#34; title=&#34;launch the autorotate app with the disable parameter&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;4-app-manager-uninstall-the-apk&#34;&gt;4. App Manager - uninstall the apk&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/autorotate/StageNow_4.png&#34; alt=&#34;uninstall the apk&#34; title=&#34;uninstall the apk&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;testing&#34;&gt;Testing&lt;/h2&gt;

&lt;p&gt;Once we&amp;rsquo;ve created the StageNow profile, it&amp;rsquo;s simply a matter of putting the device on the same network of the StageNow server and scan the two barcodes.&lt;br /&gt;
The StageNow client on the device will start downloading the apk, installing it, etc. reporting a staging succesful message at the end&amp;hellip; hopefully :-)&lt;/p&gt;

&lt;h2 id=&#34;where-to-go-from-here&#34;&gt;Where to go from here&lt;/h2&gt;

&lt;p&gt;A natural evolution of this technique would be to add more settings handling to this sample app, assigning a different Intent Extra to every parameter, so we can use a single application to manage multiple settings.&lt;/p&gt;

&lt;p&gt;Let me know if you&amp;rsquo;ve any comment/request about this topic.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Disabling MC40 Home Button with a custom intent</title>
      <link>http://pietromaggi.com/2016/01/18/disabling-mc40-home-button-with-a-custom-intent/</link>
      <pubDate>Mon, 18 Jan 2016 09:00:00 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/01/18/disabling-mc40-home-button-with-a-custom-intent/</guid>
      <description>

&lt;h1 id=&#34;note&#34;&gt;Note:&lt;/h1&gt;

&lt;p&gt;&lt;em&gt;&lt;a href=&#34;http://pietromaggi.com/2016/08/01/disabling-home-button-on-zebra-android-devices/&#34;&gt;I&amp;rsquo;ve published another post that explain how to disable the Home Button on all the Zebra&amp;rsquo;s Android devices that are supported by Mx v4.3+.&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;intro&#34;&gt;Intro&lt;/h2&gt;

&lt;p&gt;Zebra Technologies&amp;rsquo; devices are purpose built to be single use devices. Having an OS like Android nowadays provides a lot of flexibility&amp;hellip;  sometimes a bit too much.&lt;br /&gt;
With this idea in mind, the Android version used on these devices sometimes provide some nice surprise, like an Intent to disable the omnipresent Android&amp;rsquo;s Home button.&lt;/p&gt;

&lt;h2 id=&#34;the-basic-idea&#34;&gt;The basic idea&lt;/h2&gt;

&lt;p&gt;MC40 support an &lt;a href=&#34;http://developer.android.com/reference/android/content/Intent.html&#34;&gt;Android intent&lt;/a&gt; to disable the normal Home button behavior: &lt;em&gt;You can disable it and there&amp;rsquo;s no way to exit from the foreground application&lt;/em&gt; &lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://developer.zebra.com/community/android/android-forums/android-blogs/blog/2014/12/19/disabling-home-button-via-intent-mc40&#34;&gt;You can find a blog by Pavel Machala briefly describing the idea on Launchpad&lt;/a&gt;.&lt;br /&gt;
Here I want to present a simple sample that show how to use this intent, covering the only issue that is: &lt;em&gt;handling re-branded devices&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;project-setup&#34;&gt;Project setup&lt;/h2&gt;

&lt;p&gt;We start creating a new Android application in Android Studio (I&amp;rsquo;m using Android Studio v1.5.1 with Build tools 23.0.1, you&amp;rsquo;re mileage can vary if you&amp;rsquo;re using a different setup).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt; is not required to build this application using Zebra Technologies&amp;rsquo; EMDK. A normal Android application can use this intent.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/AndroidNewPrj_01.jpg&#34; alt=&#34;Creating a new Android Application, step 1&#34; title=&#34;Creating a new Android Application, step 1&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/AndroidNewPrj_02.jpg&#34; alt=&#34;Creating a new Android Application, step 2&#34; title=&#34;Creating a new Android Application, step 2&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/AndroidNewPrj_03.jpg&#34; alt=&#34;Creating a new Android Application, step 3&#34; title=&#34;Creating a new Android Application, step 3&#34; /&gt;
&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/AndroidNewPrj_04.jpg&#34; alt=&#34;Creating a new Android Application, step 4&#34; title=&#34;Creating a new Android Application, step 4&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Once we&amp;rsquo;ve the app framework setup by Android Studio, we can simplify the interface down to a Status message and a button.&lt;br /&gt;
First step: remove &lt;code&gt;content_main.xml&lt;/code&gt; and &lt;code&gt;menu_main&lt;/code&gt; then replace the content of &lt;code&gt;activity_main.xml&lt;/code&gt; with:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;LinearLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
    android:layout_width=&amp;quot;match_parent&amp;quot;
    android:layout_height=&amp;quot;match_parent&amp;quot;
    android:gravity=&amp;quot;center&amp;quot;
    android:orientation=&amp;quot;vertical&amp;quot;&amp;gt;
                    
    &amp;lt;TextView
        android:id=&amp;quot;@+id/tvwHomeBtnStatus&amp;quot;
        android:layout_width=&amp;quot;wrap_content&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot; 
        android:padding=&amp;quot;24dp&amp;quot;
        android:text=&amp;quot;@string/home_btn_status_on&amp;quot;/&amp;gt;

    &amp;lt;Button
        android:id=&amp;quot;@+id/btnToggleStatus&amp;quot;
        android:layout_width=&amp;quot;wrap_content&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot; 
        android:text=&amp;quot;@string/toggle&amp;quot;/&amp;gt;
&amp;lt;/LinearLayout&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This layout requires the following &lt;code&gt;string.xml&lt;/code&gt; inside the &lt;code&gt;res/values&lt;/code&gt; folder:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;resources&amp;gt;
    &amp;lt;string name=&amp;quot;app_name&amp;quot;&amp;gt;MC40HomeButton&amp;lt;/string&amp;gt;
    &amp;lt;string name=&amp;quot;home_btn_status_on&amp;quot;&amp;gt;Home Button Enabled&amp;lt;/string&amp;gt;
    &amp;lt;string name=&amp;quot;home_btn_status_off&amp;quot;&amp;gt;Home Button Disabled&amp;lt;/string&amp;gt;
    &amp;lt;string name=&amp;quot;toggle&amp;quot;&amp;gt;Toggle current device setting&amp;lt;/string&amp;gt;
&amp;lt;/resources&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/Strings.jpg&#34; alt=&#34;Our Strings.xml at this point&#34; title=&#34;Our Strings.xml at this point&#34; /&gt;&lt;/p&gt;

&lt;p&gt;We can now remove a lot of the generated template code in &lt;code&gt;MainActivity.java&lt;/code&gt; trimming down the code to:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.pietromaggi.sample.mc40homebutton;

import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }
}                                
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If we run the application at this moment, it&amp;rsquo;s not doing a lot :-)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/Screenshot_tag1.png&#34; alt=&#34;MC40 Screenshot of the app as recorded at tag1&#34; title=&#34;MC40 Screenshot of the app as recorded at tag1&#34; /&gt;&lt;/p&gt;

&lt;p&gt;You can find the app at this stage &lt;a href=&#34;https://github.com/pfmaggi/mc40_homebutton/tree/tag1&#34;&gt;on the github repository under the &lt;code&gt;tag1&lt;/code&gt; tag&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Next step would be to check that we&amp;rsquo;re really running on a Zebra Technologies&amp;rsquo; MC40, and then adding some logic to the app.&lt;/p&gt;

&lt;h2 id=&#34;dealing-with-multiple-os-versions-and-re-branding&#34;&gt;Dealing with multiple OS versions and re-branding&lt;/h2&gt;

&lt;p&gt;First we check that we&amp;rsquo;re running on a Zebra&amp;rsquo;s MC40 using a couple of Android constant:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;android.os.Build.MANUFACTURER&lt;/code&gt;&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;android.os.Build.MODEL&lt;/code&gt;&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The catch is that MC40, running Jelly Bean, report &amp;laquo;Motorola Solution&amp;raquo; as &lt;code&gt;MANUFACTURER&lt;/code&gt;, we need to address this difference and, as reported in &lt;a href=&#34;https://developer.zebra.com/community/android/android-forums/android-blogs/blog/2014/12/19/disabling-home-button-via-intent-mc40&#34;&gt;Pavel&amp;rsquo;s notes&lt;/a&gt;, the broadcast intent action is different for Motorola Solution or Zebra&amp;rsquo;s MC40.&lt;/p&gt;

&lt;p&gt;Once we&amp;rsquo;ve seen if the device the app is running on is supported, we can send a first Intent, to disable the home button, and configure the toggle button, so that is really toggle the Home Button status from disable to enabled and vice versa.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;package com.pietromaggi.sample.mc40homebutton;

import android.content.Intent;
import android.os.Build;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {
  private static final String MANUFACTURER_ZEBRA = &amp;quot;Zebra Technologies&amp;quot;;
  private static final String MANUFACTURER_MSI = &amp;quot;Motorola Solutions&amp;quot;;
  private static final String MODEL_MC40 = &amp;quot;MC40N0&amp;quot;;
  private static final String INTENT_ZEBRA = &amp;quot;com.symbol.intent.action.HOMEKEY_MODE&amp;quot;;
  private static final String INTENT_MSI = &amp;quot;com.motorolasolutions.intent.action.HOMEKEY_MODE&amp;quot;;
  private static final String INTENT_EXTRA = &amp;quot;state&amp;quot;;
  private String mStrIntent;
  private TextView mTvwStatus;
  private int mStatus;

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    String StrManufacturer = Build.MANUFACTURER;
    String strModel = Build.MODEL;
    boolean bSupported = true;

    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mTvwStatus = (TextView) findViewById(R.id.tvwHomeBtnStatus);

    if (strModel.equalsIgnoreCase(MODEL_MC40)) {
      // We&#39;re running on an MC40
      if (StrManufacturer.equalsIgnoreCase(MANUFACTURER_ZEBRA)) {
        // This is a Zebra Device
        mStrIntent = INTENT_ZEBRA;
      } else if (StrManufacturer.equalsIgnoreCase(MANUFACTURER_MSI)) {
        // This is a Motorola Solution Device
        // just double OS version, only Jelly Bean is supported
        mStrIntent = INTENT_MSI;
        if (Build.VERSION_CODES.JELLY_BEAN != Build.VERSION.SDK_INT) {
          bSupported = false;
        }

      }
    } else {
      // This is something else, not supported
      bSupported = false;
    }

    Button btnToggle = (Button)findViewById(R.id.btnToggleStatus);
    if (bSupported) {
      mTvwStatus.setText(R.string.home_btn_status_off);
      mStatus = 0;
      Intent i = new Intent(mStrIntent);
      i.putExtra(INTENT_EXTRA, mStatus);
      sendBroadcast(i);

      btnToggle.setOnClickListener(new View.OnClickListener() {
          @Override
          public void onClick(View v) {
          //Toggle Current Status
          if (0 == mStatus) {
            mStatus = 1;
            mTvwStatus.setText(R.string.home_btn_status_on);
          } else {
            mStatus = 0;
            mTvwStatus.setText(R.string.home_btn_status_off);
          }
          Intent i = new Intent(mStrIntent);
          i.putExtra(INTENT_EXTRA, mStatus);
          sendBroadcast(i);
        }
      });
    } else {
      mTvwStatus.setText(R.string.device_not_supported);
      btnToggle.setEnabled(false);
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If we run the application on a supported device, we get the expected behavior:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/mc40_home_btn/Screenshot_tag2.png&#34; alt=&#34;MC40 Screenshot of the app as recorded at tag2&#34; title=&#34;MC40 Screenshot of the app as recorded at tag2&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;managing-state&#34;&gt;Managing state&lt;/h2&gt;

&lt;p&gt;The application now works as expected, but with an issue linked to not managing the state. As an example, simply rotating the device, the Activity is destroyed to create a new one with the standard behavior to disable the Home Button, even if we just re-enabled it using the &lt;code&gt;toggle&lt;/code&gt; button.&lt;br /&gt;
An easy solution is to add some code to manage the Application status overriding the &lt;code&gt;onSaveInstanceState(Bundle)&lt;/code&gt; method:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Override
public void onSaveInstanceState(Bundle savedInstanceState) {
  super.onSaveInstanceState(savedInstanceState);
  savedInstanceState.putInt(KEY_STATE, mState);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And update the &lt;a href=&#34;https://github.com/pfmaggi/mc40_homebutton/blob/tag3/app/src/main/java/com/pietromaggi/sample/mc40homebutton/MainActivity.java#L55&#34;&gt;&lt;code&gt;onCreate&lt;/code&gt; method to check the bundle to see if it&amp;rsquo;s defined and behave accordingly&lt;/a&gt;.&lt;br /&gt;
The final version of the application, managing the state, can be find on github associated to &lt;a href=&#34;https://github.com/pfmaggi/mc40_homebutton/tree/tag3&#34;&gt;tag3&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Let me know if you&amp;rsquo;ve found this article useful.&lt;/p&gt;

&lt;hr /&gt;

&lt;h5 id=&#34;notes&#34;&gt;Notes&lt;/h5&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;If your app locks down a few other things or you&amp;rsquo;re using something like Zebra&amp;rsquo;s &lt;a href=&#34;https://www.zebra.com/us/en/products/software/mobile-computers/mobile-app-utilities/enterprise-home-screen.html&#34;&gt;Enterprise Home Screen&lt;/a&gt;.
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Secondary External Storage in Android KitKat - Part 1</title>
      <link>http://pietromaggi.com/2016/01/14/secondary-external-storage-in-android-kitkat---part-1/</link>
      <pubDate>Thu, 14 Jan 2016 23:00:00 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/01/14/secondary-external-storage-in-android-kitkat---part-1/</guid>
      <description>

&lt;p&gt;First technical post for 2016. Finally!&lt;/p&gt;

&lt;p&gt;To kick-start 2016 I&amp;rsquo;ve chosen a topic that is more and more relevant in our market: The changes introduced by Google in Android v4.4 KitKat, regarding the secondary storage (the SDCard).&lt;br /&gt;
I&amp;rsquo;ve already talked about this in my AppForum 2015 talk last October in London&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:1&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;, but I want to add some extra info and rationales here.&lt;/p&gt;

&lt;h2 id=&#34;a-bit-of-background&#34;&gt;A bit of background&lt;/h2&gt;

&lt;p&gt;Android&amp;rsquo;s purpose is to establish an open platform for developers to build innovative apps.
For this reason, Google put in place a compatibility program that defines technical details of the Android Platform;&lt;/p&gt;

&lt;p&gt;For every Android release, there&amp;rsquo;s a Compatibility Definition Document, the last available at this moment is for &lt;a href=&#34;http://static.googleusercontent.com/media/source.android.com/it//compatibility/6.0/android-6.0-cdd.pdf&#34;&gt;Android 6.0, aka Marshmallow&lt;/a&gt;, that defines some of the technical features and device needs to have to be a compatible Android device. And this compatibility is a requirement to be able to license GMS&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:2&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:2&#34;&gt;2&lt;/a&gt;&lt;/sup&gt; for the device.&lt;/p&gt;

&lt;p&gt;To put it clearly:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;You want GMS? You need to comply to the CDD&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here we&amp;rsquo;re talking about Android v4.4 KitKat, so here&amp;rsquo;s a link to &lt;a href=&#34;http://source.android.com/compatibility/4.4/android-4.4-cdd.pdf&#34;&gt;Android 4.4 CDD&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;what-s-the-catch&#34;&gt;What&amp;rsquo;s the catch?&lt;/h2&gt;

&lt;p&gt;From the CDD, Android devices are required to have a Secondary Storage available with a minimum 1GB size if you don&amp;rsquo;t have this internal in your device but you provide an SDCard slot, you need to ship the device with an SDCard, again, 1GB minimum size.&lt;br /&gt;
So usually, you end up that the SDCard is your &lt;em&gt;Secondary External Storage&lt;/em&gt;, and the &lt;em&gt;Primary External Storage&lt;/em&gt; is the 1GB partition (minimum) you included in the device.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Not a big deal&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To access an External Storage on Android v4.3 and previous versions, you have to specify a couple of permissions in your &lt;code&gt;AndroidManifest.xml&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;READ_EXTERNAL_STORAGE&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;WRITE_EXTERNAL_STORAGE&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These will gave you read&amp;amp;write access to all the External Storage available&lt;sup class=&#34;footnote-ref&#34; id=&#34;fnref:3&#34;&gt;&lt;a rel=&#34;footnote&#34; href=&#34;#fn:3&#34;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;br /&gt;
Given that there are ways to gently ask for the &lt;a href=&#34;http://pietromaggi.com/2014/10/19/finding-the-sdcard-path-on-android-devices/&#34;&gt;SDCard true path&lt;/a&gt; this was more or less working.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;But Android is now a multiuser OS! and an SDCard with a FAT file system, is not very good protecting the data between the different users&amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Android support SDCard with FAT file system, to provide a layer of security, it uses the &lt;a href=&#34;https://en.wikipedia.org/wiki/Filesystem_in_Userspace&#34;&gt;Linux FUSE&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In Android v4.4 Google decides to go a step further mandating that an app can write (with the right permissions that we just saw) only on the Primary External Storage. For all the other External Storage, an app can only write in its package folder. e.g. if you app package is com.pietromaggi.sample.externalstorage, It can only write in the folders &lt;code&gt;&amp;lt;sdcard root&amp;gt;/Android/data/com.pietromaggi.sample.externalstorage&lt;/code&gt;.&lt;br /&gt;
There&amp;rsquo;s no way, for a normal application, to write anywhere else on the SDCard.&lt;/p&gt;

&lt;h2 id=&#34;ok-but-there-s-an-happy-end-somewhere&#34;&gt;OK, but there&amp;rsquo;s an happy end somewhere?&lt;/h2&gt;

&lt;p&gt;Really, if you&amp;rsquo;re trying to get a way to revert Android behavior to what it was before API level 19, no, this is it.&lt;br /&gt;
Luckily Google has introduced new API in KitKat (and Lollipop and Marshmallow) that allows to mitigate the issue. Some user interventions may be needed but at least there are standard APIs available.&lt;/p&gt;

&lt;p&gt;In the second part of this blog I&amp;rsquo;ll present a sample app that uses some of these APIs.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;

&lt;hr /&gt;

&lt;ol&gt;
&lt;li id=&#34;fn:1&#34;&gt;Slides presented in London: &lt;script async class=&#39;speakerdeck-embed&#39; data-id=&#39;ef4248bf72454b2e9602db55bdf1e8ed&#39; data-ratio=&#39;1.33333333333333&#39; src=&#39;//speakerdeck.com/assets/embed.js&#39;&gt;&lt;/script&gt;
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:1&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:2&#34;&gt;GMS Stands for Google Mobile Services, and is the collection of services and application built by Google that are not part of AOSP (Android Open Source Project) like GMail, Google Maps, Google Play Store and the push notification service GCM (Google Cloud Messaging).
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:2&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li id=&#34;fn:3&#34;&gt;The catch is that, before Android v4.4, API level 19, and the introduction of the &lt;code&gt;Environment.getExternalFilesDirs()&lt;/code&gt; there was no way to know how many External Storage you had available on a device. The only available API was &lt;code&gt;Environment.getExternalStorageDirectory()&lt;/code&gt; that returns the Primary External Storage.
 &lt;a class=&#34;footnote-return&#34; href=&#34;#fnref:3&#34;&gt;&lt;sup&gt;[return]&lt;/sup&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Speaking Appointments</title>
      <link>http://pietromaggi.com/speaking/</link>
      <pubDate>Sat, 09 Jan 2016 21:53:35 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/speaking/</guid>
      <description>

&lt;h2 id=&#34;november-2016&#34;&gt;NOVEMBER 2016&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;08 November - Android Workshop in Serbia, location to be announced later&lt;/li&gt;
&lt;li&gt;10 November - Android Workshop in Slovenia, location to be announced later&lt;/li&gt;
&lt;li&gt;29 November - Android Workshop in Riyadh, Saudi Arabia, location to be announced later&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;archive-and-talk-links&#34;&gt;ARCHIVE AND TALK LINKS&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;16-Jun-16 - droidcon Berlin 2016 - &lt;strong&gt;Life of Enterprise Android Developers in the Age of Android for Work&lt;/strong&gt; &lt;script async class=&#39;speakerdeck-embed&#39; data-id=&#39;1430cf335a4046389b04aeee99529850&#39; data-ratio=&#39;1.33333333333333&#39; src=&#39;//speakerdeck.com/assets/embed.js&#39;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;li&gt;19/20 April - &lt;a href=&#34;https://germany.apps-world.net/&#34;&gt;Apps World Berlin: &amp;laquo;Android: it&amp;rsquo;s time to go to work!&amp;raquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;08-Apr-16 - droidcon Italy 2016 - &lt;strong&gt;Android: it&amp;rsquo;s time to go to Work!&lt;/strong&gt; &lt;script async class=&#39;speakerdeck-embed&#39; data-id=&#39;5e134bce838f4ee8abb2753ed3bea731&#39; data-ratio=&#39;1.33333333333333&#39; src=&#39;//speakerdeck.com/assets/embed.js&#39;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;li&gt;20-Nov-15 - Partner Technical Session in Rome organized by the Italian team. They gently invited me to help, finally back to Rome!&lt;/li&gt;
&lt;li&gt;14-Oct-15 - Talk on What&amp;rsquo;s new in Android from JellyBean to Marshmallow for Enterprise Developers, presented at 2015 AppForum edition in London.
&lt;img src=&#34;http://pietromaggi.com/images/conferences/AppForum2015.png&#34; alt=&#34;Enterprise AppForum&#34; title=&#34;Anterprise AppForum Banner&#34; /&gt;
&lt;script async class=&#39;speakerdeck-embed&#39; data-id=&#39;ef4248bf72454b2e9602db55bdf1e8ed&#39; data-ratio=&#39;1.33333333333333&#39; src=&#39;//speakerdeck.com/assets/embed.js&#39;&gt;&lt;/script&gt;&lt;/li&gt;
&lt;li&gt;08-Apr-15 - DroidCon Turin - &lt;strong&gt;Android Industrial Mobility&lt;/strong&gt;. 
&lt;div style=&#34;position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;//www.youtube.com/embed/ImOAuMR3X9w&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%;&#34; allowfullscreen frameborder=&#34;0&#34;&gt;&lt;/iframe&gt;
 &lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;07-Mar-15 - DroidCon Tunis - &lt;strong&gt;Android Industrial Mobility&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;22-Nov-14 - DroidCon Amsterdam - RhoMobile is a sponsor at the event, we&amp;rsquo;ll be there with a booth and I&amp;rsquo;ll present my talk: &amp;laquo;Android Industrial Mobility&amp;raquo;.&lt;/li&gt;
&lt;li&gt;18-Nov-14 – &lt;a href=&#34;http://www.motorolasolutionsevents.com/enterprise_appforum_2014/&#34;&gt;Enterprise App Forum - Brussels&lt;/a&gt; - Various things, coaching mostly &lt;br&gt;
&lt;img src=&#34;http://pietromaggi.com/images/conferences/EnterpriseAppForum2014.png&#34; alt=&#34;Enterprise AppForum&#34; title=&#34;Anterprise AppForum Banner&#34; /&gt;&lt;/li&gt;
&lt;li&gt;31-Oct-14 - DroidCon London - RhoMobile is a sponsor at the event, we&amp;rsquo;ll be there with a booth and I&amp;rsquo;ll present my talk: &lt;a href=&#34;https://skillsmatter.com/skillscasts/5824-current-best-practices-for-building-enterprise-mobile-apps&#34;&gt;&amp;laquo;Android Industrial Mobility&amp;raquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;10-Oct-14 - DroidCon Bucharest - &amp;laquo;Android Industrial Mobility&amp;raquo;&lt;/li&gt;
&lt;li&gt;29-Sep-14 - Europe Mobile App, Dorint Sanssouci Berlin/Potsdam - &lt;a href=&#34;http://mobileappeurope.com/wp-content/uploads/2014/04/pietro_maggi_android_industrial_mobility.pdf&#34;&gt;&amp;laquo;Android Industrial Mobility&amp;raquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;08-May-14 - DroidCon Berlin - Berlin - &amp;laquo;Android Industrial Mobility&amp;raquo;&lt;/li&gt;
&lt;li&gt;06-Feb-14 – DroidCon Italy - Turin - &amp;laquo;RhoMobile - Build Mobile application using your web skills&amp;raquo;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>about</title>
      <link>http://pietromaggi.com/about/</link>
      <pubDate>Sat, 09 Jan 2016 20:50:38 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/about/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/wipjam.png&#34; alt=&#34;Pietro F. Maggi&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Hi!
My name is Pietro F. Maggi, I&amp;rsquo;m a Father an Husband and occasionally I find the time to write some code.&lt;/p&gt;

&lt;p&gt;I really believe that the best way to learn how something works is to take it apart (I know, I can&amp;rsquo;t really blame my kids when they do the same).&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve more than fifteen years designing and developing software solutions with a deep mobile experience. I frequently speak at conferences and Zebra Technologies events to present DevTools for Enterprise mobility.&lt;/p&gt;

&lt;p&gt;Public speaking, business development, and software development are my main strengths.&lt;/p&gt;

&lt;p&gt;Specialties:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Software evengelist.&lt;/li&gt;
&lt;li&gt;Designing and implementation of Mobile solutions and Mobile Web solutions.&lt;/li&gt;
&lt;li&gt;Software development from bare metal embedded to backend servers.&lt;/li&gt;
&lt;li&gt;RF and 802.11 technology.&lt;/li&gt;
&lt;li&gt;Mentoring and coaching resources.&lt;/li&gt;
&lt;li&gt;Managing partners and customers satisfaction.&lt;/li&gt;
&lt;li&gt;Communication skill.&lt;/li&gt;
&lt;li&gt;Fast Learner.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If I&amp;rsquo;ve to define myself in a sentence, I&amp;rsquo;m an &lt;em&gt;Extrovert Developer&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;If you would like to get in touch with me, whether it be for tech support, a business venture, or to just say hi, feel free to send me an email or follow me on Twitter!&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://twitter.com/pfmaggi&#34;&gt;@pfmaggi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;mailto:pfm@pietromaggi.com&#34;&gt;pfm@pietromaggi.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://github.com/pfmaggi&#34;&gt;GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.linkedin.com/in/pietromaggi&#34;&gt;LinkedIn&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Enjoy!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Welcome</title>
      <link>http://pietromaggi.com/2016/01/09/welcome/</link>
      <pubDate>Sat, 09 Jan 2016 20:50:14 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2016/01/09/welcome/</guid>
      <description>&lt;p&gt;Time for revamping a bit this blog.&lt;br /&gt;
From a technical point of view, I struggled with octopress v2.x to keep this blog aligned across the multiple machine I use in my work/life. Octopress v3 is supposed to solve most of the issue that plagued me over these years but, I wanted to test something a bit different.&lt;/p&gt;

&lt;p&gt;New year new static blog generator. Given that I want to spend some time evaluating &lt;a href=&#34;http://golang.org&#34;&gt;Go&lt;/a&gt; I decided to give &lt;a href=&#34;http://gohugo.io&#34;&gt;Hugo&lt;/a&gt; a try.&lt;/p&gt;

&lt;p&gt;As always, I don&amp;rsquo;t want to spend much time on the layout and the style of this site. My main concern is to be able to post content regularly, something that is not so easy, given the rate I had releasing new content.&lt;/p&gt;

&lt;p&gt;So, back on track for 2016, I want to release new content on this site, and I hope that this new platform will support me well.
At this moment I&amp;rsquo;ve moved all the previous content, correcting few typos in the process, using one of the vanilla themes available.
I&amp;rsquo;ll will probably spend some time in the future to refine the layout, but this is more or less it.&lt;/p&gt;

&lt;p&gt;Another change is the comment section, that will go life with one of the free discussion platform available, still have to decide which one.&lt;/p&gt;

&lt;p&gt;Let me know if you enjoy the change and, more important, which topics you&amp;rsquo;ll like that I cover here.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building Zebra&#39;s EMDK project using SDK Platform 23</title>
      <link>http://pietromaggi.com/2015/11/25/building-zebras-emdk-project-using-sdk-platform-23/</link>
      <pubDate>Wed, 25 Nov 2015 09:54:55 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2015/11/25/building-zebras-emdk-project-using-sdk-platform-23/</guid>
      <description>

&lt;h1 id=&#34;note-emdk-4-0-is-now-documenting-this-method-to-add-com-symbol-emdk-jar-as-a-dependency-http-techdocs-zebra-com-emdk-for-android-4-0-tutorial-tutcreateprojectandroidstudio-emdkasadependencyingradlebuild&#34;&gt;Note: &lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-0/tutorial/tutCreateProjectAndroidStudio/#emdkasadependencyingradlebuild&#34;&gt;EMDK 4.0 is now documenting this method to add com.symbol.emdk.jar as a dependency&lt;/a&gt;&lt;/h1&gt;

&lt;p&gt;There&amp;rsquo;s a recurring question coming to me and to Launchpad&amp;rsquo;s forums lately:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://developer.zebra.com/message/86287#86287&#34;&gt;&lt;em&gt;How can I compile my Android app, using Zebra&amp;rsquo;s EMDK, if I need the latest support library?&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;some-background&#34;&gt;Some background&lt;/h1&gt;

&lt;p&gt;With the Android tools moving super-fast (Android studio v1.0 launched at the beginning of 2015, the latest stable release is v1.4.1, we already have v1.5RC and v2.0 has been announced&amp;hellip;) keeping up to this pace is not easy for our EMDK team!&lt;/p&gt;

&lt;p&gt;We discovered some integration issues when Android Studio v1.3 was released and &lt;a href=&#34;https://developer.zebra.com/community/android/android-forums/android-blogs/blog/2015/08/21/announcement-emdk-issue-with-android-studio-13-new-project-wizard&#34;&gt;we presented a workaround&lt;/a&gt; to use the EMDK as the building SDK. Limiting the project to API level 16 or 19. This should be good, right?&lt;/p&gt;

&lt;p&gt;A downside of this approach surfaced when Google updated the templates for new projects, now based on the Android Support Library. I really like the approach to base new projects on the support library; the problem is that it does require to build the project with API level 21+.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Here we can have a problem&lt;/em&gt;&lt;/p&gt;

&lt;h1 id=&#34;using-zebra-s-emdk&#34;&gt;Using Zebra&amp;rsquo;s EMDK&lt;/h1&gt;

&lt;p&gt;So, talking just about Android Studio, that is the current up-to-date Android IDE, we currently document two ways to use the EMDK:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://techdocs.zebra.com/emdk-for-android/4-0/tutorial/tutCreateProjectAndroidStudio/#setemdkapi19ascompilesdkinprojectstructure&#34;&gt;The official one&lt;/a&gt;, selecting the EMDK in the &amp;laquo;Compile SDK&amp;raquo; drop-down when creating the project&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.zebra.com/community/android/android-forums/android-blogs/blog/2015/08/21/announcement-emdk-issue-with-android-studio-13-new-project-wizard&#34;&gt;The Android Studio v1.3+ workaround way&lt;/a&gt; that suggest to manually set the EMDK as the &amp;laquo;Compile SDK&amp;raquo;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Both methods fails to compile a project using the latest Android Support Library.&lt;/p&gt;

&lt;h1 id=&#34;a-little-gradle-magic&#34;&gt;A little gradle magic&lt;/h1&gt;

&lt;p&gt;Here&amp;rsquo;s a third, &lt;strong&gt;UNOFFICIAL&lt;/strong&gt;, way to include the EMDK in an Android project and use the latest available SDK to build the project.&lt;/p&gt;

&lt;h2 id=&#34;copy-the-lib-file-in-your-project&#34;&gt;Copy the lib file in your project&lt;/h2&gt;

&lt;p&gt;First of all, create in your Android project a lib folder and copy into it the com.symbol.emdk.jar library that you got installing the EMDK on your PC/Mac:&lt;/p&gt;

&lt;p&gt;This is probably easier to say than to do, because the default Android Studio project view doesn&amp;rsquo;t show these files.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/EMDK_gradle/Android_Project1.jpg&#34; alt=&#34;Default Android Project Panel&#34; title=&#34;Default Android Project Panel&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The easiest way, at least for me, is to copy the file from the setup position to a newly created &lt;code&gt;libs&lt;/code&gt; folder in my project from Windows&amp;rsquo; File Explorer or OSX&amp;rsquo;s Finder and then check that everything is OK switching the Android Studio project view from &amp;laquo;Android&amp;raquo; to &amp;laquo;Project Files&amp;raquo;:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/EMDK_gradle/Android_Project2.jpg&#34; alt=&#34;Project Files Panel View&#34; title=&#34;Project Files Panel View&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;modify-the-build-gradle-file&#34;&gt;Modify the build.gradle file&lt;/h2&gt;

&lt;p&gt;OK, once the file is included in our project (and this means that you can check in this file in your SCM and checkout on a new PC and rebuilt it without the need to Zebra EMDK installed) we can explain to Android Studio how to use it. To do this we need to modify the &lt;code&gt;build.gradle&lt;/code&gt; file included in the app folder. If you&amp;rsquo;ve switched back to the &amp;laquo;Android Project view&amp;raquo;, this is the Module: App, gradle file. As shown below:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/EMDK_gradle/gradle_file.jpg&#34; alt=&#34;Gradle file to Edit&#34; title=&#34;Gradle file to Edit&#34; /&gt;&lt;/p&gt;

&lt;p&gt;In this file you need to setup the dependencies so that the build process uses this lib as a reference without including it into the final APK (otherwise the application will exit with and exception when launched).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   dependencies {
       compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;], exclude: [&#39;com.symbol.emdk.jar&#39;])
       compile &#39;com.android.support:appcompat-v7:23.0.1&#39;
       provided fileTree(dir: &#39;libs&#39;, include: [&#39;com.symbol.emdk.jar&#39;])
   }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With this changes you can build your project using the latest available SDK, just remember that you&amp;rsquo;re targeting Zebra devices with API level 16 or 19, so, setup your minimum SDK accordingly.&lt;/p&gt;

&lt;p&gt;You can find a demo app built with this technique &lt;a href=&#34;https://github.com/pfmaggi/GetDeviceInfo_EMDK&#34;&gt;on my github account&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Happy coding&lt;br /&gt;
~Pietro&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slide Decks</title>
      <link>http://pietromaggi.com/decks/</link>
      <pubDate>Sun, 25 Oct 2015 19:31:46 +0100</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/decks/</guid>
      <description>

&lt;h2 id=&#34;android-wireless-deepdive-decks-wireless&#34;&gt;&lt;a href=&#34;http://pietromaggi.com/decks/wireless/&#34;&gt;Android Wireless DeepDive&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;Exploring how to build a RhoMobile native extension for an Android undocumented feature&lt;/p&gt;

&lt;h2 id=&#34;mobile-barcode-scanning-api-status-decks-barcodes-api&#34;&gt;&lt;a href=&#34;http://pietromaggi.com/decks/barcodes-api/&#34;&gt;Mobile Barcode Scanning API Status&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;An analysis of barcode scanning API status on mobile devices&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Android Back Button and Enterprise Browser</title>
      <link>http://pietromaggi.com/2015/09/25/android-back-button-and-enterprise-browser/</link>
      <pubDate>Fri, 25 Sep 2015 11:33:11 +0200</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2015/09/25/android-back-button-and-enterprise-browser/</guid>
      <description>

&lt;h2 id=&#34;edit&#34;&gt;Edit&lt;/h2&gt;

&lt;p&gt;Enteprise Browser v1.3 introduced a change that requires to enable &lt;code&gt;FunctionKeysCapturable&lt;/code&gt; to be able to use the KeyCapture API.&lt;br /&gt;
To do this you need to update your &lt;code&gt;Config.xml&lt;/code&gt; with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;FunctionKeysCapturable                 value=&amp;quot;1&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;enterprise-browser&#34;&gt;Enterprise Browser&lt;/h2&gt;

&lt;p&gt;Enterprise Browser is Zebra Technologies&amp;rsquo; Industrial Browser built for our Rugged Devices, we support most of our Windows Mobile/Windows CE devices and Android devices.&lt;/p&gt;

&lt;p&gt;This product is usually used with existing web application that cannot be updated/modified moving from one device to another.
This help us winning some opportunities but sometimes present some unique challenges like, as an example, disabling the Android back button default behavior.&lt;/p&gt;

&lt;h2 id=&#34;back-button-on-android&#34;&gt;Back Button on Android?&lt;/h2&gt;

&lt;p&gt;Given that this is a cross-platform product (built on top of our RhoMobile Suite) we don&amp;rsquo;t have a custom settings to disable the back button in the Config.xml configuration file, however it is still possible to add a default Metatags in the configuration so that no changes in the existing pages are needed.&lt;/p&gt;

&lt;p&gt;So, do we&amp;rsquo;ve an API to intercept the Back Button?&lt;/p&gt;

&lt;p&gt;Of course! the &lt;a href=&#34;https://developer.motorolasolutions.com/docs/DOC-2520&#34;&gt;KeyCapture API&lt;/a&gt; can be used to intercept and disable it.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;EB.KeyCapture.captureKey(BOOLEAN dispatch, STRING keyValue)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Setting the &lt;code&gt;dispatch&lt;/code&gt; value to &lt;code&gt;false&lt;/code&gt;,  We just need to get the correct KeyCode.&lt;/p&gt;

&lt;p&gt;This can a bit tricky and can be different from device to device, the best solution I&amp;rsquo;ve is to ask directly to the device with a simple HTML page that display the keycode off all the keys that are pressed:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html lang=&amp;quot;en&amp;quot;&amp;gt;
&amp;lt;META HTTP-Equiv=&amp;quot;KeyCapture&amp;quot; Content=&amp;quot;KeyValue:All; Dispatch:False; KeyEvent:url(&#39;JavaScript:alert(&#39;Key Pressed: %s&#39;);&#39;)&amp;quot;&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;meta charset=&amp;quot;utf-8&amp;quot;&amp;gt;
	&amp;lt;title&amp;gt;Display KeyCode&amp;lt;/title&amp;gt;
  &amp;lt;/head&amp;gt;
  &amp;lt;body&amp;gt;
    &amp;lt;H1&amp;gt;Press a key to see it&#39;s KeyCode&amp;lt;/H1&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once we&amp;rsquo;ve the correct KeyCode, we just need to call this API in every page that is loaded in the browser&amp;hellip; Sometimes that is not easy to do sometimes, especially when the application cannot be modified.&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;ve a solution for this issue: having a &lt;code&gt;DefaultMetaTags&lt;/code&gt; in Enterprise Browser&amp;rsquo;s configuration.&lt;/p&gt;

&lt;h2 id=&#34;what-s-a-defaultmetatags&#34;&gt;What&amp;rsquo;s a DefaultMetaTags&lt;/h2&gt;

&lt;p&gt;We can start from the &lt;a href=&#34;https://developer.motorolasolutions.com/docs/DOC-2571#defaultmetatags&#34;&gt;documentation&lt;/a&gt;, what does it means?&lt;/p&gt;

&lt;p&gt;A &lt;code&gt;DefaultMetaTags&lt;/code&gt; is a way to call an Enterprise Browser API on top of every HTML page that is loaded in the browser. This can be used, as an example to enable on screen UI elements like the battery or WiFi icon.&lt;/p&gt;

&lt;p&gt;So, putting the different things together, we can put this in the &amp;ldquo;Config.xml&amp;rsquo;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;DefaultMetaTags&amp;gt;
    &amp;lt;MetaTag value=&amp;quot;KeyCapture~KeyValue:0xA6;Dispatch:False&amp;quot;/&amp;gt;
 &amp;lt;/DefaultMetaTags&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;BTW: &lt;code&gt;0xA6&lt;/code&gt; is the correct value for the Back Button on a TC55 running Android v4.4 KitKat.&lt;/p&gt;

&lt;h2 id=&#34;closing-comments&#34;&gt;Closing comments&lt;/h2&gt;

&lt;p&gt;Enterprise Browser&amp;rsquo;s &lt;code&gt;DefaultMetaTags&lt;/code&gt; is a very flexible way to &amp;laquo;patch&amp;raquo; an existing Web application without touching its source code.&lt;/p&gt;

&lt;p&gt;As a closing comment here&amp;rsquo;s a sample configuration that zoom the current web page pressing a button:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;MetaTag VALUE=&amp;quot;KeyCapture~KeyValue:0x79;Dispatch:False;KeyEvent:url(&#39;JavaScript:eval(&#39;zoom.page=\&#39;1.3\&#39;;&#39;);&#39;)&amp;quot;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;If you&amp;rsquo;re interested in Enterprise Browser, you can visit us at &lt;a href=&#34;http://bit.ly/EMEAAppForum2015&#34;&gt;EMEA AppForum in London, Oct. 12th-14th&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Finding the SDCard Path on Android devices</title>
      <link>http://pietromaggi.com/2014/10/19/finding-the-sdcard-path-on-android-devices/</link>
      <pubDate>Sun, 19 Oct 2014 20:55:18 +0200</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2014/10/19/finding-the-sdcard-path-on-android-devices/</guid>
      <description>

&lt;p&gt;With Motorola Solutions we&amp;rsquo;re busy finishing the first round of Android Developer&amp;rsquo;s Kitchens around Europe. Just in time to prepare for the &lt;a href=&#34;http://www.motorolasolutionsevents.com/enterprise_appforum_2014/&#34;&gt;Enterprise App Forum in Brussels!&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The nice things of these events is the interaction with our partners and theirs real live problem!&lt;/p&gt;

&lt;p&gt;Last week I got an interesting question regarding our TC55:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;How can I programmatically get the path for the SDCard on the TC55?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s a good question; usually you don&amp;rsquo;t want to insert in your code the dependency to an hard coded path!
The usual answer is based around the function &lt;code&gt;Environment.getExternalStorageDirectory();&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The problem is that this function report a different folder if the SDCard is inserted in the device or not.
This is not a problem unique to the TC55, it&amp;rsquo;s a common problem on Android and there are different ways to handle it:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://futurewithdreams.blogspot.it/2014/01/get-external-sdcard-location-in-android.html&#34;&gt;Reading the partition table from &lt;code&gt;/proc/mounts&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/a/23949650/118862&#34;&gt;Use some environment variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://stackoverflow.com/questions/22219312/android-open-external-storage-directorysdcard-for-storing-file&#34;&gt;Still use the getExternalStorageDirectory() function, together with the isExternalStorageRemovable() and getExternalStorageState() functions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Given that we&amp;rsquo;ve the luxury to target just a few devices, the Motorola Solutions one :-), the best option is to use the environment variables.&lt;/p&gt;

&lt;h3 id=&#34;let-s-see-what-happens-on-the-tc55&#34;&gt;Let&amp;rsquo;s see what happens on the TC55&lt;/h3&gt;

&lt;p&gt;On this device, using &lt;code&gt;Environment.getExternalStorageDirectory();&lt;/code&gt; returns different results depending if you&amp;rsquo;ve installed or not an SDCard:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Without SDCard —&amp;gt; /&lt;code&gt;STORAGE/SDCARD1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;With SDCard —&amp;gt; &lt;code&gt;/STORAGE/SDCARD0&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let&amp;rsquo;s see what we can achieve with the environment variables!&lt;/p&gt;

&lt;p&gt;We can log into a TC55 and use the &lt;code&gt;printenv&lt;/code&gt; command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;adb shell
printenv

_=/system/bin/printenv
LD_LIBRARY_PATH=/vendor/lib:/system/lib
HOSTNAME=android
BOOTCLASSPATH=/system/framework/core.jar:/system/framework/core-junit.jar:/system/framework/bouncycastle.jar:/system/framework/ext.jar:/system/framework/framework.jar:/system/framework/framework_ext.jar:/system/framework/android.policy.jar:/system/framework/services.jar:/system/framework/apache-xml.jar
PATH=/sbin:/vendor/bin:/system/sbin:/system/bin:/system/xbin
LOOP_MOUNTPOINT=/mnt/obb
ANDROID_DATA=/data
ANDROID_ROOT=/system
SHELL=/system/bin/sh
MKSH=/system/bin/sh
USER=shell
EXTERNAL_SDCARD_STORAGE=/storage/sdcard0
ANDROID_PROPERTY_WORKSPACE=8,49152
EXTERNAL_STORAGE=/storage/sdcard1
ANDROID_ASSETS=/system/app
TERM=vt100
RANDOM=16913
ASEC_MOUNTPOINT=/mnt/asec
SECURE_STORAGE_SDCARD=/storage/sdcard0
HOME=/data
ANDROID_BOOTLOGO=1
MASS_STORAGE=/mnt/udisk
PS1=$(precmd)$USER@$HOSTNAME:${PWD:-?} $
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;From this is easy to see that the way to get the SDCard path is to use a couple of environment variables:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;System.getenv(&amp;laquo;EXTERNAL_STORAGE&amp;raquo;)&lt;/code&gt; —&amp;gt; Internal SDCard &lt;code&gt;/STORAGE/SDCARD1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;System.getenv(&amp;laquo;EXTERNAL_SDCARD_STORAGE&amp;raquo;)&lt;/code&gt; —&amp;gt; True SDCard &lt;code&gt;/STORAGE/SDCARD0&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This solutions is still depending on two specific environment variables, is much better than hardcoding the path strings in the application but is probably only acceptable if you&amp;rsquo;re targeting just few devices.
Another point is that, on other devices, you get the true SDCard path linked to the &lt;code&gt;SECONDARY_STORAGE&lt;/code&gt; environment variable. So a better solution could be to check for both variables with something like:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;String strSDCardPath = System.getenv(&amp;quot;SECONDARY_STORAGE&amp;quot;);
if ((null == strSDCardPath) || (strSDCardPath.length() == 0)) {
    strSDCardPath = System.getenv(&amp;quot;EXTERNAL_SDCARD_STORAGE&amp;quot;);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When we will start to release KitKat based devices it will be even more important taking a look at the right path for these volumes :-)&lt;/p&gt;

&lt;p&gt;&lt;em&gt;EDIT:&lt;/em&gt; I&amp;rsquo;ve a new &lt;a href=&#34;http://pietromaggi.com/2016/01/14/secondary-external-storage-in-android-kitkat---part-1/&#34;&gt;blog post&lt;/a&gt; with additional information for Zebra Technologies KitKat devices.&lt;/p&gt;

&lt;p&gt;You can find in my github account a &lt;a href=&#34;https://github.com/pfmaggi/GetDeviceInfo&#34;&gt;sample application&lt;/a&gt; that retrieves these data.&lt;/p&gt;

&lt;p&gt;Let me know if you find this information useful via &lt;a href=&#34;http://twitter.com/pfmaggi&#34;&gt;twitter @pfmaggi&lt;/a&gt; or &lt;a href=&#34;mailto:pfm@pietromaggi.com&#34;&gt;email&lt;/a&gt; or &lt;a href=&#34;http://www.motorolasolutionsevents.com/enterprise_appforum_2014/&#34;&gt;joining me and the EMEA Software Enablement Team in Brussels for the Enterprise AppForum, our annual developer events&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Getting device info from MSI Android devices</title>
      <link>http://pietromaggi.com/2014/09/02/getting-device-info-from-msi-android-devices/</link>
      <pubDate>Tue, 02 Sep 2014 11:56:38 +0200</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2014/09/02/getting-device-info-from-msi-android-devices/</guid>
      <description>

&lt;h1 id=&#34;the-good-old-ways&#34;&gt;The good old ways!&lt;/h1&gt;

&lt;p&gt;On Symbol/MSI Windows Mobile devices, we where providing some APIs in the EMDK to get additional information.
Looking into the Resource Coordinator is possible to find APIs like:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;RCM_GetESN() - retrieves the device electronic serial number&lt;/li&gt;
&lt;li&gt;RCM_GetUniqueUnitId() - retrieves the unique unit identification number&lt;/li&gt;
&lt;li&gt;RCM_GetVersion() - retrieves version information&lt;/li&gt;
&lt;li&gt;etc&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&amp;hellip;and we don&amp;rsquo;t have anything like this in the Android EMDK. WHY?&lt;/p&gt;

&lt;p&gt;Simply because the functionality is already included in the standard Android SDK.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s see how to get this is data on an MSI device with the Android OS.&lt;/p&gt;

&lt;h1 id=&#34;the-fabulous-new-way&#34;&gt;The fabulous new way!&lt;/h1&gt;

&lt;p&gt;You can find the completed project in &lt;a href=&#34;https://github.com/pfmaggi/GetDeviceInfo&#34;&gt;this repository&lt;/a&gt; on my github account, I&amp;rsquo;m using Windows 7 and Eclipse+ADT, but you can follow these steps with Android Studio quite nicely.&lt;/p&gt;

&lt;h1 id=&#34;create-a-new-project&#34;&gt;Create a new Project&lt;/h1&gt;

&lt;p&gt;Create a new Android project, nothing fancy here, it&amp;rsquo;s just a standard app with a single Blank Activity.
You can follow these images as a guideline. Your interface may vary as Google updates the Android wizard quite often.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/create_project_01.jpg&#34; alt=&#34;Create Project - step 1&#34; title=&#34;Android New Project Wizard - page 1&#34; /&gt;
 &lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/create_project_02.jpg&#34; alt=&#34;Create Project - step 2&#34; title=&#34;Android New Project Wizard - page 2&#34; /&gt;
 &lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/create_project_03.jpg&#34; alt=&#34;Create Project - step 3&#34; title=&#34;Android New Project Wizard - page 3&#34; /&gt;
 &lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/create_project_04.jpg&#34; alt=&#34;Create Project - step 4&#34; title=&#34;Android New Project Wizard - page 4&#34; /&gt;
 &lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/create_project_05.jpg&#34; alt=&#34;Create Project - step 5&#34; title=&#34;Android New Project Wizard - page 5&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Then we can do some housekeeping deleting the unnecessary main.xml menu resource:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/delete_menu.jpg&#34; alt=&#34;Delete Menu resource&#34; title=&#34;Delete unnecessary menu resource&#34; /&gt;&lt;/p&gt;

&lt;p&gt;We can then start the two main changes:
  - Setting up the Activity Layout
  - Updating the Activity onCreate method to retrieve the device data&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/activity_layout.jpg&#34; alt=&#34;Main Activity Layout&#34; title=&#34;Main Activity Layout&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Here&amp;rsquo;s the code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;

&amp;lt;LinearLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
              android:layout_width=&amp;quot;match_parent&amp;quot;
              android:layout_height=&amp;quot;match_parent&amp;quot;
              android:orientation=&amp;quot;vertical&amp;quot;
    &amp;gt;
    &amp;lt;TextView
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:text=&amp;quot;@string/device_name&amp;quot;
        /&amp;gt;
    &amp;lt;TextView
        android:id=&amp;quot;@+id/device_type&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_marginLeft=&amp;quot;16dp&amp;quot;
        android:layout_marginRight=&amp;quot;16dp&amp;quot;
        android:textSize=&amp;quot;18sp&amp;quot;
        style=&amp;quot;?android:listSeparatorTextViewStyle&amp;quot;
        /&amp;gt;
    &amp;lt;TextView
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:text=&amp;quot;@string/electronic_serial_number&amp;quot;
        /&amp;gt;
    &amp;lt;TextView
        android:id=&amp;quot;@+id/device_esn&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_marginLeft=&amp;quot;16dp&amp;quot;
        android:layout_marginRight=&amp;quot;16dp&amp;quot;
        android:textSize=&amp;quot;18sp&amp;quot;
        style=&amp;quot;?android:listSeparatorTextViewStyle&amp;quot;
        /&amp;gt;
    &amp;lt;TextView
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:text=&amp;quot;@string/build_number&amp;quot;
        /&amp;gt;
    &amp;lt;TextView
        android:id=&amp;quot;@+id/build_number&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:layout_marginLeft=&amp;quot;16dp&amp;quot;
        android:layout_marginRight=&amp;quot;16dp&amp;quot;
        android:textSize=&amp;quot;18sp&amp;quot;
        style=&amp;quot;?android:listSeparatorTextViewStyle&amp;quot;
        /&amp;gt;
&amp;lt;/LinearLayout&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This together with the string.xml containing the referenced string:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;resources&amp;gt;

    &amp;lt;string name=&amp;quot;app_name&amp;quot;&amp;gt;Get Device Info&amp;lt;/string&amp;gt;
    &amp;lt;string name=&amp;quot;electronic_serial_number&amp;quot;&amp;gt;Device ESN:&amp;lt;/string&amp;gt;
    &amp;lt;string name=&amp;quot;build_number&amp;quot;&amp;gt;Build Number:&amp;lt;/string&amp;gt;
    &amp;lt;string name=&amp;quot;device_name&amp;quot;&amp;gt;Device:&amp;lt;/string&amp;gt;

&amp;lt;/resources&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then the simple Activity java code to collect the information is:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.pietromaggi.sample.getdeviceinfo;

import android.os.Build;
import android.support.v7.app.ActionBarActivity;
import android.os.Bundle;
import android.widget.TextView;


public class MainActivity extends ActionBarActivity {
    TextView DeviceNameTextView;
    TextView ESNTextView;
    TextView BuildNumberTextView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        DeviceNameTextView = (TextView)findViewById(R.id.device_type);
        DeviceNameTextView.setText(Build.DEVICE);

        ESNTextView = (TextView)findViewById(R.id.device_esn);
        ESNTextView.setText(Build.SERIAL);

        BuildNumberTextView = (TextView)findViewById(R.id.build_number);
        BuildNumberTextView.setText(Build.ID);
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;where-s-the-tricks&#34;&gt;Where&amp;rsquo;s the tricks?&lt;/h1&gt;

&lt;p&gt;There&amp;rsquo;s really no trick, Android SDK provide this information, and more using these constants:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://developer.android.com/reference/android/os/Build.html#DEVICE&#34;&gt;Build.DEVICE = The name of the industrial design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://developer.android.com/reference/android/os/Build.html#SERIAL&#34;&gt;Build.SERIAL = A hardware serial number, if available&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://developer.android.com/reference/android/os/Build.html#ID&#34;&gt;Build.ID = changelist number&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obviously, it&amp;rsquo;s the OEM building the device that put together the plumbing to link the correct information. Your mileage may vary on different devices.&lt;/p&gt;

&lt;p&gt;Running this application on an ET1 with Jelly Bean you get:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/screen_ET1.png&#34; alt=&#34;ET1 Screenshot&#34; title=&#34;ET1 Screenshot&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Running this application on an MC40 with Jelly Bean you get:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/screen_MC40.png&#34; alt=&#34;MC40 Screenshot&#34; title=&#34;MC40 Screenshot&#34; /&gt;&lt;/p&gt;

&lt;p&gt;While the TC55 is always a bit different :-)&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://pietromaggi.com/images/samples/device-info/screen_TC55JB.png&#34; alt=&#34;TC55 Screenshot&#34; title=&#34;TC55 Screenshot&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Hope you may find this useful. Send me an email if you&amp;rsquo;d like to see any particular topic on this blog.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Rhodes 5.0.2 and Visual Studio 2008 Localized edition</title>
      <link>http://pietromaggi.com/2014/08/22/rhodes-5.0.2-and-visual-studio-2008-localized-edition/</link>
      <pubDate>Fri, 22 Aug 2014 13:01:48 +0200</pubDate>
      <author>pfm@pietromaggi.com (Pietro F. Maggi)</author>
      <guid>http://pietromaggi.com/2014/08/22/rhodes-5.0.2-and-visual-studio-2008-localized-edition/</guid>
      <description>&lt;p&gt;Oh the joy of a new RhoMobile version!&lt;/p&gt;

&lt;p&gt;Creating new virtual machines and finally deciding that is time to leave the old trusty Windows XP and jump on the new Windows 7 with 63+1 bits. Oh man! what a pleasant use of time :-)&lt;/p&gt;

&lt;p&gt;On top of this I wanted to spin the setup a bit and decided to use a localized version of Visual Studio 2008&amp;hellip; what can go wrong with it?&lt;/p&gt;

&lt;p&gt;Well&amp;hellip; you may encounter a fancy Microsoft &amp;laquo;feature&amp;raquo; with a message that more or less reads:
&lt;a href=&#34;http://social.msdn.microsoft.com/Forums/vstudio/en-US/14dc118f-5adc-4a90-9c07-fde701f6b36c/vcbld0001-vcprojectenginedll-could-not-be-loaded?forum=vcgeneral&#34;&gt;&amp;laquo;VCProjectEngine.dll&amp;raquo; Could not be loaded&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This obviously, in your language of choice.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The Solution?&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;From the same thread, copy the content of the localized package for vcbuild in the main folder; in my case:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;From: &lt;code&gt;C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\vcpackages\1040&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;To: &lt;code&gt;C:\Program Files (x86)\Microsoft Visual Studio 9.0\VC\vcpackages&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I just made a copy of the original content before moving the files (you never know).&lt;/p&gt;

&lt;p&gt;Enjoy your localized Visual Studio!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>